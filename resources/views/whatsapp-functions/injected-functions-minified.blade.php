"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof b?r:b,i=Object.create(a.prototype),s=new M(n||[]);return o(i,"_invoke",{value:x(e,t,s)}),i}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",f="completed",W={};function b(){}function A(){}function h(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(E([])));w&&w!==t&&n.call(w,i)&&(y=w);var S=h.prototype=b.prototype=Object.create(y);function P(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,i,s){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):r.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=G(s,n);if(u){if(u===W)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?f:m,c.arg===W)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function G(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,G(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),W;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,W;var i=a.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,W):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,W)}function _(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function T(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(r){if(r||""===r){var t=r[i];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return A.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:A,configurable:!0}),A.displayName=c(h,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===A||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},P(R.prototype),c(R.prototype,s,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=E,M.prototype={constructor:M,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return s.type="throw",s.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,W):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),W},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),W}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;T(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:E(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),W}},r}function asyncGeneratorStep(e,r,t,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){asyncGeneratorStep(a,n,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,n,o,i,s,"throw",e)}i(void 0)}))}}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof b?r:b,i=Object.create(a.prototype),s=new M(n||[]);return o(i,"_invoke",{value:x(e,t,s)}),i}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",f="completed",W={};function b(){}function A(){}function h(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(E([])));w&&w!==t&&n.call(w,i)&&(y=w);var S=h.prototype=b.prototype=Object.create(y);function P(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,i,s){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):r.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=G(s,n);if(u){if(u===W)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?f:m,c.arg===W)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function G(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,G(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),W;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,W;var i=a.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,W):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,W)}function _(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function T(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(r){if(r||""===r){var t=r[i];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return A.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:A,configurable:!0}),A.displayName=c(h,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===A||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},P(R.prototype),c(R.prototype,s,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=E,M.prototype={constructor:M,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return s.type="throw",s.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,W):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),W},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),W}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;T(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:E(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),W}},r}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof b?r:b,i=Object.create(a.prototype),s=new M(n||[]);return o(i,"_invoke",{value:x(e,t,s)}),i}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",f="completed",W={};function b(){}function A(){}function h(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(E([])));w&&w!==t&&n.call(w,i)&&(y=w);var S=h.prototype=b.prototype=Object.create(y);function P(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,i,s){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):r.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=G(s,n);if(u){if(u===W)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?f:m,c.arg===W)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function G(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,G(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),W;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,W;var i=a.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,W):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,W)}function _(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function T(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(r){if(r||""===r){var t=r[i];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return A.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:A,configurable:!0}),A.displayName=c(h,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===A||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},P(R.prototype),c(R.prototype,s,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=E,M.prototype={constructor:M,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return s.type="throw",s.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,W):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),W},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),W}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;T(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:E(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),W}},r}function asyncGeneratorStep(e,r,t,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){asyncGeneratorStep(a,n,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,n,o,i,s,"throw",e)}i(void 0)}))}}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof b?r:b,i=Object.create(a.prototype),s=new M(n||[]);return o(i,"_invoke",{value:x(e,t,s)}),i}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",f="completed",W={};function b(){}function A(){}function h(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(E([])));w&&w!==t&&n.call(w,i)&&(y=w);var S=h.prototype=b.prototype=Object.create(y);function P(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,i,s){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):r.resolve(p).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===f){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=G(s,n);if(u){if(u===W)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?f:m,c.arg===W)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function G(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,G(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),W;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,W;var i=a.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,W):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,W)}function _(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function T(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(r){if(r||""===r){var t=r[i];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return A.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:A,configurable:!0}),A.displayName=c(h,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===A||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},P(R.prototype),c(R.prototype,s,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=E,M.prototype={constructor:M,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return s.type="throw",s.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,W):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),W},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),W}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;T(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:E(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),W}},r}function asyncGeneratorStep(e,r,t,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){asyncGeneratorStep(a,n,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,n,o,i,s,"throw",e)}i(void 0)}))}}window.WUAPI={db:null,newJobs:!1,hasDeletemsg:!1,isConnected:!1,qtdMsgSend:0,PerformanceEventTiming:{},inUse:!0,participantsEncrypt:{}},window.WUAPI.webhookEvents={},window.WUAPI.startTime=new Date,window.WUAPI.currentDate=new Date,window.WUAPI.filesBackup={},window.currentQrCode=null,window.WUAPI.findGroupInfo=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.WUAPI.getGroupMetadata(r);case 3:return t=e.sent,e.next=6,window.WUAPI.getGroupParticipants(r);case 6:return n=e.sent,t.participants=n,e.next=10,window.WUAPI.getGroupInviteLink(r);case 10:return t.inviteCode=e.sent.link,e.abrupt("return",{success:!0,message:"Grupo encontrado com sucesso.",metadata:t});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar as informações do grupo",error:e.t0.message,groupId:r});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupMetadata=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebSchemaParticipant").getParticipantTable().get(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.setGroups=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.WUAPI.groups=[],e.prev=1,e.next=4,require("WAWebSchemaChat").getChatTable().all();case 4:return r=e.sent,e.next=7,Promise.all(r.map(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.WUAPI.getGroupMetadata(r.id);case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,window.WUAPI.getGroupParticipants(r.id);case 6:n=e.sent,t.participants=n,window.WUAPI.groups.push(t);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Erro ao setar os grupos:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),window.WUAPI.getAllGroups=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.WUAPI.setGroups();case 3:return e.abrupt("return",{success:!0,groups:window.WUAPI.groups,message:"Grupos encontrados com sucesso"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar os grupos",error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),window.WUAPI.setGroupSubject=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WASmaxGroupsSetSubjectRPC").sendSetSubjectRPC({iqTo:r,subjectElementValue:t});case 3:return n=e.sent,o="SetSubjectResponseSuccess"===n.name,e.abrupt("return",{success:o,message:o?"Alterado com sucesso":"Erro ao alterar",response:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setGroupDescription=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 3:return n=e.sent,e.next=6,require("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:{bodyElementValue:t||" "},iqTo:r,descriptionId:require("WAHex").randomHex(8),descriptionPrev:n.descId,hasDescriptionDeleteTrue:!1});case 6:return o=e.sent,a="SetDescriptionResponseSuccess"==o.name,e.abrupt("return",{success:a,message:a?"Alterado com sucesso":"Erro ao alterar",response:o});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setGroupProperty=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,o={},t="".concat(t),e.t0=t,e.next="announcement"===e.t0?6:"ephemeral"===e.t0?8:"restrict"===e.t0?10:12;break;case 6:return o={hasAnnouncement:n,hasNotAnnouncement:!n,iqTo:r},e.abrupt("break",12);case 8:return o={hasNotEphemeral:!0,iqTo:r},e.abrupt("break",12);case 10:return o={hasLocked:n,hasUnlocked:!n,iqTo:r},e.abrupt("break",12);case 12:return"ephemeral"==t&&n&&(o={hasNotEphemeral:!1,ephemeralArgs:{ephemeralExpiration:604800},iqTo:r}),e.next=15,require("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(o);case 15:return a=e.sent,i="SetPropertyResponseSuccess"==a.name,e.abrupt("return",{success:i,message:i?"Alterado com sucesso":"Erro ao alterar",response:a});case 20:return e.prev=20,e.t1=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t1.message});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.getChat=function(e){try{var r=require("WAWebWidFactory"),t=require("WAWebCollections"),n=t.Chat.get(e);return n||(n=t.Chat.gadd(r.createWid(e),{})),n}catch(e){return}},window.WUAPI.getLinkPreview=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,i,s,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql"),n=/(https?:\/\/[^\s]+)/,o=r.match(n)[0],a={input:{url:o}},i=require("WAWebMexNativeClient"),e.next=8,i.fetchQuery(t,a);case 8:return s=e.sent,u=s.xwa2_newsletter_link_preview,e.abrupt("return",{matchedText:o,title:u.title,description:u.description,richPreviewType:0,doNotPlayInline:!1,isLoading:!1,thumbnail:u.thumb_data,thumbnailDirectPath:null,thumbnailSha256:null,thumbnailHQ:u.thumb_data,thumbnailHeight:1024,thumbnailWidth:1024,thumbnailEncSha256:null,mediaKeyTimestamp:null,mediaKey:null});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{matchedText:r,title:r,description:r,richPreviewType:0,doNotPlayInline:!0,isLoading:!1,thumbnail:void 0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.mountAllMention=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]&&i[1],e.next=3,window.WUAPI.getGroupParticipants(r);case 3:return n=e.sent,o=require("WAWebWidFactory"),a=[],n.participants.forEach((function(e){a.push(t?e.replace("@c.us","@s.whatsapp.net"):o.createWid(e))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sendText=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s,u,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>2&&void 0!==c[2]&&c[2],e.prev=1,o=performance.now(),a=require("WAWebSendTextMsgChatAction"),window.WUAPI.qtdMsgSend++,r.includes("@g.us"),e.next=12;break;case 8:i=e.sent,s=i.success,e.next=29;break;case 12:if(e.t0=a,e.t1=window.WUAPI.getChat(r),e.t2=t,!n){e.next=21;break}return e.next=18,window.WUAPI.mountAllMention(r);case 18:e.t3=e.sent,e.next=22;break;case 21:e.t3=[];case 22:return e.t4=e.t3,e.t5=[],e.t6={linkPreview:null,mentionedJidList:e.t4,groupMentions:e.t5,botMsgBodyType:null},e.next=27,e.t0.sendTextMsgToChat.call(e.t0,e.t1,e.t2,e.t6);case 27:i=e.sent,s="OK"==i.messageSendResult;case 29:return u=performance.now(),e.abrupt("return",{success:s,message:s?"Enviado com sucesso":"Erro ao enviar a mensagem",chatId:r,time:window.WUAPI.setPerformance(r,o,u,"sendText"),response:i});case 33:return e.prev=33,e.t7=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao enviar catch: ".concat(e.t7.message),chatId:r,error:e.t7.message});case 36:case"end":return e.stop()}}),e,null,[[1,33]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.sendLinkPreview=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=require("WAWebSendTextMsgChatAction"),e.next=4,window.WUAPI.getLinkPreview(n);case 4:return a=e.sent,window.WUAPI.qtdMsgSend++,e.next=8,o.sendTextMsgToChat(window.WUAPI.createProxyChat(r),t,{linkPreview:a,mentionedJidList:[],groupMentions:[],botMsgBodyType:null});case 8:return i=e.sent,s="OK"==i.messageSendResult,e.abrupt("return",{success:s,message:s?"Enviado com sucesso":"Erro ao enviar o link",chatId:r,response:i});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar catch: ".concat(e.t0.message),error:e.t0.message,chatId:r,response:null});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.getGroupInviteLink=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebMexFetchGroupInviteCodeJob").fetchMexGroupInviteCode(r);case 3:return t=e.sent,n=null!=t,e.abrupt("return",{success:n,message:n?"Link gerado com sucesso":"Erro ao gerar link",link:"https://chat.whatsapp.com/".concat(t)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar catch",error:e.t0,groupId:r});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getConfigsSend=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s,u,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",o=c.length>3?c[3]:void 0,a=window.WUAPI.getChat(r),i=require("WAWebMsgDataUtils"),e.next=6,i.genOutgoingMsgData(a,o.type);case 6:return s=e.sent,u=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({"image/jpeg":"image","image/png":"image","image/gif":"gif","video/webm":"video","video/mp4":"video","audio/ogg":"ogg","audio/mpeg":"mp3","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/zip":"zip","application/pdf":"pdf"},"image/gif","gif"),"text/plain","txt"),"text/csv","csv"),"image/webp","webp"),"video/quicktime","mp4"),s.body=t._mediaData.preview,s.filehash=t._mediaData.filehash,s.type=u[o.type],s.agentId=void 0,s.isNewMsg=!0,s.local=!0,s.ack=0,s.caption=n,s.mentionedJidList=[],s.groupMentions=[],s.ephemeralSettingTimestamp=null,s.disappearingModeInitiator="chat",s.size=o.size,s.isVcardOverMmsDocument=!1,s.filename=void 0,s.mimetype=o.type,s.isViewOnce=!1,s.ctwaContext=void 0,s.ephemeralDuration=604800,s.footer=void 0,s.forwardedFromWeb=void 0,s.forwardedNewsletterMessageInfo=void 0,s.forwardingScore=void 0,s.gifAttribution=void 0,s.height=187,s.width=198,s.streamingSidecar=void 0,s.isAvatar=void 0,s.isForwarded=void 0,s.isGif=void 0,s.messageSecret=void 0,s.pageCount=void 0,s.quotedMsg=void 0,s.quotedParticipant=void 0,s.quotedRemoteJid=void 0,s.quotedStanzaID=void 0,s.staticUrl="",s.subtype=void 0,e.abrupt("return",s);case 47:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.sendFile=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,o){var a,i,s,u,c,p,l,d,m,g,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=performance.now(),i=window.WUAPI.getFile(n,o),e.next=5,require("WAWebMediaOpaqueData").createFromData(i,i.type);case 5:return s=e.sent,window.WUAPI.qtdMsgSend++,e.next=9,require("WAWebMedia").prepRawMedia(s,{});case 9:return u=e.sent,(c=u._mediaData).set({mediaPrep:u}),p=window.WUAPI.getChat(r),e.next=15,window.WUAPI.getConfigsSend(r,u,t,i);case 15:return l=e.sent,e.next=18,c.mediaPrep.waitForPrep();case 18:return d=require("WAWebMsgCollection").MsgCollection.add(l),e.next=21,c.mediaPrep.sendToChat(p,d[0]);case 21:return m=e.sent,g="OK"==m.messageSendResult,window.WUAPI.removeInputFile(n),f=performance.now(),e.abrupt("return",{success:g,message:g?"Arquivo enviado com sucesso":"Erro ao enviar o arquivo",response:m,time:window.WUAPI.setPerformance(r,a,f,"sendFile"),chatId:r});case 28:return e.prev=28,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar o arquivo a",error:e.t0.message,chatId:r});case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(r,t,n,o){return e.apply(this,arguments)}}(),window.WUAPI.createGroup=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,i,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:[],e.prev=1,n=require("WAWebCreateGroupAction"),o=null,a={title:r,ephemeralDuration:0,restrict:!1,announce:!1,membershipApprovalMode:!1,memberAddMode:!1},e.next=7,window.WUAPI.checkConnection();case 7:if(window.WUAPI.isConnected){e.next=9;break}return e.abrupt("return",{success:!1,message:"Instância não está conectada.",error:"Não conectado"});case 9:return e.next=11,n.createGroup(a,t);case 11:return o=e.sent,i="g.us"==o.server,e.abrupt("return",{success:i,message:i?"Grupo criado com sucesso":"Erro ao criar grupo",metadata:{id:o._serialized}});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao criar grupo",error:e.t0.message,response:o||null});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sleep=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getQrCode=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,t,n,o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=3e4,t=1e3,n=0,o=null;case 4:if(!(n<r)){e.next=25;break}if(e.prev=5,a=document.querySelector("._akau"),i=a.getAttribute("data-ref"),window.currentQrCode=i,null===i||null===o||o===i){e.next=11;break}return e.abrupt("return",{success:!0,qrCode:i,firsQrcode:o,message:"QR gerado com sucesso"});case 11:return e.next=13,window.WUAPI.sleep(t);case 13:if(n+=t,o=i,null===i){e.next=19;break}return require("WAWebCmd").Cmd.refreshQR(),e.next=19,window.WUAPI.sleep(2e3);case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(5);case 23:e.next=4;break;case 25:return e.abrupt("return",{success:!1,error:"QR code não encontrado em 30 segundos",qrCode:null});case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),window.WUAPI.disableAutoDownloads=function(){try{var e=require("WAWebUserPrefsGeneral");return e.setAutoDownloadPhotos(!1),e.setAutoDownloadAudio(!1),e.setAutoDownloadVideos(!1),e.setAutoDownloadDocuments(!1),!0}catch(e){}},window.WUAPI.addInputFile=function(e){var r=document.createElement("input");return r.type="file",r.name="".concat(e),r.dataset["".concat(e)]="".concat(e),r.dataset.namedata="".concat(e),r.style.display="none",document.body.appendChild(r),{success:!0,message:"Input adicionado com sucesso"}},window.WUAPI.removeInputFile=function(e){try{return document.querySelector(e).remove(),{success:!0,message:"Input removido com sucesso"}}catch(e){return{success:!0,message:"Input removido com sucesso"}}},window.WUAPI.checkConnection=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=require("WAWebStreamModel"),t=r.Stream.__x_displayInfo,n="NORMAL"==t,window.WUAPI.isConnected=n,e.abrupt("return",{success:n,message:n?"Conexão OK":"Erro na conexão",status:t});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro na conexão",error:e.t0.message,status:null});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),window.WUAPI.sendPoll=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,i,s,u=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:0,e.prev=1,a={name:t,options:n,selectableOptionsCount:o},e.next=5,require("WAWebPollsSendPollCreationMsgAction").sendPollCreation({poll:a,chat:window.WUAPI.getChat(r),quotedMsg:void 0});case 5:return i=e.sent,s="OK"===i[1].messageSendResult,e.abrupt("return",{success:s,message:s?"Enquete enviada com sucesso":"Erro ao enviar enquete",response:i[1],chatId:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao enviar enquete",error:e.t0.message,chatId:r});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.sendAudio=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,i,s,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=window.WUAPI.getFile(t,n),a=window.WUAPI.getChat(r),i=new(i=require("WAWebAttachMediaCollection"))({chatParticipantCount:a.getParticipantCount()}),window.WUAPI.qtdMsgSend++,s=[{file:o,filename:"".concat(window.WUAPI.generateRandomCode(10),".ogg"),mimetype:"audio/ogg",type:"audio"}],e.next=9,i.processAttachments(s,1,a);case 9:return(u=i.getModelsArray()[0]).mediaPrep._mediaData.type="ptt",e.next=13,u.mediaPrep.sendToChat(a,{});case 13:return c=e.sent,p="OK"===c.messageSendResult,window.WUAPI.removeInputFile(t),e.abrupt("return",{success:p,message:p?"Áudio enviado com sucesso":"Erro ao enviar áudio",response:c,chatId:r});case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar áudio",error:e.t0.message,chatId:r});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.sendFileBkp=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,o){var a,i,s,u,c,p,l,d,m,g;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=performance.now(),i=window.WUAPI.getFile(n,o),s=window.WUAPI.getChat(r),u=new(u=require("WAWebAttachMediaCollection"))({chatParticipantCount:s.getParticipantCount()}),c=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({"image/jpeg":"image","image/png":"image","image/gif":"gif","video/webm":"video","video/mp4":"video","audio/ogg":"audio","audio/mpeg":"audio","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document","application/vnd.ms-excel":"document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"document","application/zip":"document","application/pdf":"document"},"image/gif","image"),"text/plain","document"),"text/csv","document"),"image/webp","video"),"video/quicktime","video"),window.WUAPI.qtdMsgSend++,p=[{file:i,filename:i.name,mimetype:i.type,type:c[i.type]}],e.next=11,u.processAttachments(p,1,s);case 11:return l=u.getModelsArray()[0],e.next=14,l.mediaPrep.sendToChat(s,{caption:t});case 14:return d=e.sent,m="OK"===d.messageSendResult,window.WUAPI.removeInputFile(n),g=performance.now(),window.WUAPI.setPerformance(r,a,g,"sendFileBkp"),e.abrupt("return",{success:m,message:m?"Arquivo enviado com sucesso":"Erro ao enviar o arquivo",response:d,chatId:r});case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar arquivo",error:e.t0.message,chatId:r});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r,t,n,o){return e.apply(this,arguments)}}(),window.WUAPI.getPhoneNumber=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=require("WAWebUserPrefsMeUser").getMe().user,e.abrupt("return",{success:!0,phoneNumber:r,message:"Número de telefone encontrado"});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar o número de telefone",error:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),window.WUAPI.startSession=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",{success:!0,message:"Sessão iniciada com sucesso"});case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao iniciar a sessão",error:e.t0.message});case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.promoteParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]&&i[2],e.prev=1,o=!1,a=null,n){e.next=11;break}return e.next=7,require("WASmaxGroupsPromoteDemoteRPC").sendPromoteDemoteRPC({promoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 7:a=e.sent,o=a.value.promoteParticipant.length>=1&&null==a.value.promoteParticipant[0].error||0==a.value.promoteParticipant.length,e.next=15;break;case 11:return e.next=13,require("WASmaxGroupsPromoteDemoteAdminRPC").sendPromoteDemoteAdminRPC({promoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 13:a=e.sent,o=a.value.adminParticipant.length>=1&&null==a.value.adminParticipant[0].error||0==a.value.adminParticipant.length;case 15:return e.abrupt("return",{success:o,message:o?"Participante promovido com sucesso":"Erro ao promover o participante",isCommunity:n,response:a,number:t,groupId:r});case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{success:o,message:"Erro ao promover o participante",error:e.t0.message,isCommunity:n,number:t,groupId:r});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.demoteParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]&&i[2],e.prev=1,o=!1,a=null,n){e.next=11;break}return e.next=7,require("WASmaxGroupsPromoteDemoteRPC").sendPromoteDemoteRPC({demoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 7:a=e.sent,o=a.value.demoteParticipant.length>=1||null==a.value.demoteParticipant[0].error||0==a.value.demoteParticipant.length,e.next=15;break;case 11:return e.next=13,require("WASmaxGroupsPromoteDemoteAdminRPC").sendPromoteDemoteAdminRPC({demoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 13:a=e.sent,o=a.value.adminParticipant.length>=1&&null==a.value.adminParticipant[0].error||0==a.value.adminParticipant.length;case 15:return e.abrupt("return",{success:o,message:o?"Participante despromovido com sucesso":"Erro ao despromover o participante",isCommunity:n,response:a,number:t,groupId:r});case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao despromover o participante",error:e.t0.message,isCommunity:n,number:t,groupId:r});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.addParticipant=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,require("WASmaxGroupsAddParticipantsRPC").sendAddParticipantsRPC({participantArgs:[{participantJid:t}],iqTo:r});case 4:if(n=e.sent,o=n.value.addParticipant[0].addParticipantsParticipantAddedOrNonRegisteredWaUserParticipantErrorLidResponseMixinGroup.value.addParticipantsParticipantMixins,a=null==o||"409"==o.value.error,null==o||a){e.next=9;break}return e.abrupt("return",{success:!1,message:"Erro ao adicionar o participante",error:o.name,response:n,status:o.value.error});case 9:return e.abrupt("return",{success:a,message:a?"Participante Adicionado com sucesso":"Erro ao adicionar o participante",response:n,number:t,groupId:r,status:200});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao adicionar o participante catch",error:e.t0.message,number:t,groupId:r,response:n,status:500});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.removeParticipant=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WASmaxGroupsRemoveParticipantsRPC").sendRemoveParticipantsRPC({participantArgs:[{participantJid:t}],iqTo:r,hasRemoveLinkedGroupsTrue:!1});case 3:return n=e.sent,o=null==n.value.removeParticipant[0].participantNotInGroupOrParticipantNotAllowedOrParticipantNotAcceptableOrRemoveParticipantsLinkedGroupsServerErrorMixinGroup,e.abrupt("return",{success:o,message:o?"Participante removido com sucesso":"Erro ao remover o participante",response:n,number:t,groupId:r});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao remover o participante",error:e.t0.message,number:t,groupId:r});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setWebhookEvent=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.forEach((function(e){switch(e.subtype){case"leave":case"invite":case"message":window.WUAPI.webhookEvents[e.id.id]=e}}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.generateRandomCode=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:22,r="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<e;n++){t+=r[Math.floor(36*Math.random())]}return t},window.WUAPI.sendVcard=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,i,s,u,c,p,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=window.WUAPI.getChat(r),a=require("WAWebMsgDataUtils"),e.next=5,a.genOutgoingMsgData(o,"text/vcard");case 5:return(i=e.sent).id._serialized=i.id._serialized.replace(i.id.id,":newcode"),i.id.id=window.WUAPI.generateRandomCode(22),i.id._serialized=i.id._serialized.replace(":newcode",i.id.id),window.WUAPI.qtdMsgSend++,s={type:"vcard",vcardFormattedName:t,body:"BEGIN:VCARD\nVERSION:3.0\nN:;".concat(t,";;;\nFN:").concat(t,"\nTEL;type=CELL;waid=").concat(n,":").concat(n,"\nEND:VCARD"),ack:0,from:i.from,id:i.id,local:!0,isNewMsg:!0,t:i.t,to:i.to,ephemeralDuration:0},u=require("WAWebSendMsgChatAction"),e.next=14,u.addAndSendMsgToChat(o,s);case 14:return c=e.sent,e.next=17,c[1];case 17:return p=e.sent,l="OK"===p.messageSendResult,e.abrupt("return",{success:l,message:l?"Vcard enviado com sucesso":"Erro ao enviar vcard",response:p,chatId:r});case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar vcard catch",error:e.t0.message,line2:e.t0,response:null,chatId:r});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.fileToBase64=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(e){t(e)},n.readAsDataURL(r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.resizeImage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.next=3,new Promise((function(e){n.onload=function(r){return e(r.target.result)},n.readAsDataURL(r)}));case 3:return o=e.sent,(a=new Image).src=o,e.next=8,new Promise((function(e){return a.onload=e}));case 8:return e.next=10,Promise.all(t.map((function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),o=a.width,i=a.height;o>i?o>e&&(i*=e/o,o=e):i>e&&(o*=e/i,i=e),t.width=o,t.height=i,n.drawImage(a,0,0,o,i);var s="image/png"===r.type?"image/jpeg":r.type;return new Promise((function(n){return t.toBlob((function(t){var o=new File([t],"".concat(e,"x").concat(e,"_").concat(r.name.replace(/\.[^.]+$/,".jpg")),{type:s,lastModified:Date.now()});n(o)}),s)}))})));case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.changeGroupPhoto=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=document.querySelector(t).files[0],e.next=4,window.WUAPI.resizeImage(n,[96,640]);case 4:return o=e.sent,e.next=7,window.WUAPI.fileToBase64(o[0]);case 7:return a=e.sent,e.next=10,window.WUAPI.fileToBase64(o[1]);case 10:return i=e.sent,s=require("WAWebWidFactory"),u=s.createWid(r),e.next=15,require("WAWebContactProfilePicThumbBridge").sendSetPicture(u,a,i);case 15:return c=e.sent,p=200==c.status,e.abrupt("return",{success:p,message:p?"Foto alterada com sucesso":"Erro ao alterar a foto",response:c,chatId:r});case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar a foto",error:e.t0.message,chatId:r});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.removeGroupPhoto=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebWidFactory"),n=t.createWid(r),e.next=5,require("WAWebContactProfilePicThumbBridge").requestDeletePicture(n);case 5:return o=e.sent,a=200==o.status,e.abrupt("return",{success:a,message:a?"Foto removida com sucesso":"Erro ao remover a foto",response:o,chatId:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao remover a foto",error:e.t0.message,chatId:r});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.checkNumber=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebWidFactory"),n=t.createWid(r),e.next=5,require("WAWebQueryExistsJob").queryWidExists(n);case 5:return o=e.sent,a=null!=o,e.abrupt("return",{success:a,message:a?"Número válido":"Número inválido"});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao verificar o número",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.disconnect=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebSocketModel").Socket.logout();case 3:return e.abrupt("return",{success:!0,message:"Logout feito com sucesso"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao fazer logout",error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),window.WUAPI.deleteMessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=require("WAWebMsgCollection"),o=n.MsgCollection.get(t),a=window.WUAPI.getChat(r),e.next=6,require("WAWebChatSendMessages").sendRevokeMsgs(a,{type:"message",list:[o]},!0);case 6:return i=e.sent,s="OK"==i[0].messageSendResult,e.abrupt("return",{success:s,message:s?"Mensagem apagada com sucesso":"Erro ao apagar a mensagem",response:i});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao apagar a mensagem",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.createCommunity=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebGroupCommunityJob"),n={name:r,desc:"",closed:!0,hasAllowNonAdminSubGroupCreation:!0,shouldCreateGeneralChat:!1},e.next=5,window.WUAPI.checkConnection();case 5:if(window.WUAPI.isConnected){e.next=7;break}return e.abrupt("return",{success:!1,message:"Instância não está conectada.",error:"Não conectado"});case 7:return e.next=9,t.sendCreateCommunity(n);case 9:return o=e.sent,a="g.us"==o.wid.server,e.abrupt("return",{success:a,message:a?"Comunidade criada com sucesso":"Erro ao criar comunidade",metadata:{id:o.wid._serialized},response:o});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao criar comunidade catch",error:e.t0.message,response:null,metadata:null});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupInfoFromInviteCode=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebGroupQueryBridge").sendQueryGroupInvite(r);case 3:return(t=e.sent).success=200==t.status,t.message=t.success?"Grupo encontrado":"Grupo não encontrado",t.success&&(t.id=t.id._serialized),e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar informações do grupo",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sendMsgEvent=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.WUAPI.getChat(r),o=require("WAWebMsgDataUtils"),e.next=5,o.genOutgoingMsgData(n,"event_creation");case 5:if(a=e.sent,i=require("WAWebSendMsgChatAction"),window.WUAPI.qtdMsgSend++,s={id:a.id,type:"event_creation",kind:"eventCreation",t:a.t,from:a.from,to:a.to,author:a.to,isNewMsg:!0,local:!0,ack:0,messageSecret:crypto.getRandomValues(new Uint8Array(32)),eventName:t.title,isEventCanceled:!1,eventDescription:t.description,eventStartTime:t.startTime,endTime:void 0,eventJoinLink:void 0,eventLocation:void 0,disappearingModeInitiator:"chat"},!t.typemedia){e.next=14;break}return e.next=12,require("WASmaxVoipLinkCreateRPC").sendLinkCreateRPC({eventArgs:{eventStartTime:t.startTime},linkCreateMedia:t.typemedia});case 12:u=e.sent,s.eventJoinLink="https://call.whatsapp.com/".concat("audio"==t.typemedia?"voice":"video","/").concat(u.value.linkCreateToken);case 14:return t.eventLocation&&(s.eventLocation={degreesLatitude:0,degreesLongitude:0,name:t.eventLocation}),t.endTime&&(s.eventEndTime=t.endTime),e.next=18,i.addAndSendMsgToChat(n,s)[1];case 18:return c=e.sent,p="OK"==c.messageSendResult,e.abrupt("return",{success:p,message:p?"Sucesso ao enviar o evento":"Erro ao enviar evento",response:c});case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar evento",error:e.t0.message});case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.timeOpenPage=function(e){return(new Date-window.WUAPI.startTime)/6e4>=parseInt(e)},window.WUAPI.checkMinutesDateCurrent=function(e,r){return window.WUAPI.currentDate.getTime()-1e3*r>=6e4*e},window.WUAPI.clearCacheAndConsole=function(){console.clear()},window.WUAPI.createProxyChat=function(e){try{return new(require("WAWebStateConcern"))("Hook(useModelValues)","chat",["id","trusted","composeContents","composeQuotedMsg","isPSA","isGroup","pttRecordingSession","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","quotedMsgAdminGroupSubject","quotedMsgAdminParentGroupJid","composeQuotedMsgRemoteJid","isAutoMuted","isNewsletter","isBroadcast","newsletterMetadata"],!0,!0).createProxy(window.WUAPI.getChat(e))}catch(r){return window.WUAPI.getChat(e)}},window.WUAPI.fetchAndDeleteMessagesFromIndexedDB=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),r(e)},t.onsuccess=function(t){var n=t.target.result.transaction("message","readwrite").objectStore("message"),o=n.getAll();o.onsuccess=function(){var r=o.result;console.log("Mensagens encontradas:",r),r.forEach((function(e){window.WUAPI.checkMinutesDateCurrent(240,e.t)&&(n.delete(e.id),console.log("Mensagem com ID ".concat(e.id," excluída.")))})),e()},o.onerror=function(e){console.error("Erro ao buscar mensagens do IndexedDB:",e),r(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar e excluir mensagens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.countMessagesInIndexedDB=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),r(e)},t.onsuccess=function(t){var n=t.target.result.transaction("message","readonly").objectStore("message").count();n.onsuccess=function(){var r=n.result;console.log("Total de mensagens: ".concat(r)),e(r)},n.onerror=function(e){console.error("Erro ao contar mensagens do IndexedDB:",e),r(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar mensagens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.deleteChatsView=function(){try{var e=document.getElementById("app");return e&&e.remove(),{success:!0,message:"Chats deletados com sucesso"}}catch(e){return{success:!1,message:"Erro ao deletar chats",error:e.message}}},setInterval((function(){try{window.WUAPI.checkConnection(),window.WUAPI.isConnected&&(window.WUAPI.clearCacheAndConsole(),window.WUAPI.disableAutoDownloads())}catch(e){}}),2e4),setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.WUAPI.currentDate=new Date,!window.WUAPI.isConnected&&!window.WUAPI.timeOpenPage(5)){e.next=10;break}return e.prev=2,e.next=5,window.WUAPI.optimizeInstance();case 5:window.WUAPI.timeOpenPage(5)&&(window.WUAPI.startTime=window.WUAPI.currentDate),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])}))),6e4),window.WUAPI.getVersion=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onsuccess=function(t){var n=t.target.result.transaction(["user-prefs"],"readonly").objectStore("user-prefs").get("WAVersionBase");n.onsuccess=function(r){e(r.target.result)},n.onerror=function(e){r("Erro ao buscar WAVersionBase: ".concat(e.target.error))}},t.onerror=function(e){r("Erro ao abrir o banco: ".concat(e.target.error))}})));case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.getFile=function(e,r){var t=window.WUAPI.filesBackup[r]?window.WUAPI.filesBackup[r]:document.querySelector(e).files[0];return window.WUAPI.filesBackup[r]=t,t},window.WUAPI.existsFile=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!!window.WUAPI.filesBackup[r],e.abrupt("return",{success:t,message:t?"Arquivo encontrado":"Arquivo não encontrado"});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getProcess=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=require("WAComms").singletonOrThrowIfUninitialized("deprecatedSendStanzaAndReturnAck"),e.abrupt("return",r.ackHandlers);case 2:case"end":return e.stop()}}),e)}))),window.WUAPI.clearCache=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:caches.keys().then((function(e){var r,t=_createForOfIteratorHelper(e);try{for(t.s();!(r=t.n()).done;){var n=r.value;caches.delete(n)}}catch(e){t.e(e)}finally{t.f()}console.log("Cache limpo com sucesso.")}));case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.closeSocket=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:require("WAComms").closeSocket();case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.optimizeInstance=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(window.WUAPI.qtdMsgSend>=30||window.WUAPI.timeOpenPage(5))){e.next=7;break}return window.WUAPI.qtdMsgSend=0,window.WUAPI.clearCache(),window.WUAPI.disableAutoDownloads(),e.next=7,window.WUAPI.fetchAndDeleteMessagesFromIndexedDB();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),window.WUAPI.setPerformance=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";try{return window.WUAPI.PerformanceEventTiming[e]||(window.WUAPI.PerformanceEventTiming[e]=[]),window.WUAPI.PerformanceEventTiming[e].push({start:r,end:t,time:((t-r)/1e3).toFixed(3),type:n}),((t-r)/1e3).toFixed(3)}catch(e){return 0}},define("WAWebGroupQueryBridge",["WALogger","WATypeUtils","WAWebBackendApi","WAWebBackendErrors","WAWebGroupQueryGroupJob","WAWebGroupQueryJob","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebGroupQueryBridge",["WALogger","WATypeUtils","WAWebBackendApi","WAWebBackendErrors","WAWebGroupQueryGroupJob","WAWebGroupQueryJob","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){function s(){var e=babelHelpers.taggedTemplateLiteralLoose(["Store:GroupMetadata Unexpected server response"]);return s=function(){return e},e}function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["querying server for groupMetadata of group id ",""]);return u=function(){return e},e}function c(){return c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("WALogger").LOG(u(),r.toLogString()).tags("groups"),t=n("WAWebGroupQueryGroupJob").queryGroupJob(r),e.prev=2,e.next=5,t;case 5:if(!(null==(t=e.sent)?void 0:t.id)){e.next=10;break}return p(r,t.subject),l(r,null!=(o=t.isLidAddressingMode)&&o),e.abrupt("return",{id:t.id,owner:t.owner,creation:t.creation,subject:t.subject,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:null!=(o=t.restrict)&&o,announce:null!=(o=t.announce)&&o,noFrequentlyForwarded:null!=(o=t.noFrequentlyForwarded)&&o,ephemeralDuration:null!=(o=t.ephemeralDuration)?o:0,membershipApprovalMode:t.membershipApprovalMode,participants:t.participants,support:null!=(o=t.support)&&o,suspended:null!=(o=t.suspended)&&o,terminated:null!=(o=t.terminated)&&o,parentGroup:t.parentGroup,isParentGroup:null!=(o=t.isParentGroup)&&o,isParentGroupClosed:null!=(o=t.isParentGroupClosed)&&o,defaultSubgroup:null!=(o=t.defaultSubgroup)&&o,generalSubgroup:null!=(o=t.generalSubgroup)&&o,incognito:null!=(o=t.incognito)&&o,isLidAddressingMode:null!=(o=t.isLidAddressingMode)&&o,allowNonAdminSubGroupCreation:t.allowNonAdminSubGroupCreation,generalChatAutoAddDisabled:t.generalChatAutoAddDisabled,hiddenSubgroup:null!=(o=t.hiddenSubgroup)&&o});case 10:n("WALogger").WARN(s()).devConsole(t),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(2),!(e.t0 instanceof n("WAWebBackendErrors").ServerStatusCodeError&&e.t0.status>=400)){e.next=17;break}return e.abrupt("return",{id:r,stale:!1});case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,13]])}))),c.apply(this,arguments)}function p(e,r){n("WATypeUtils").isString(r)&&n("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:e,subject:r})}function l(e,r){n("WAWebBackendApi").frontendFireAndForget("updateGroupAddressingMode",{id:e,isLidAddressingMode:r})}i.sendQueryGroup=function(e){return c.apply(this,arguments)},i.sendQueryGroupInvite=function(e){return n("WAWebGroupQueryJob").queryGroupInvite(e).then((function(e){return babelHelpers.extends({status:200},e)}))},i.updateSubject=p}),98),define("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(e,r,t,n,o,a,i){e={processMultipleMessages:function(e){var r=e.chatId,t=e.msgObjs,o=e.meta,a=e.processMessagesOrigin,i=e.chatMsgsCollection;return e=e.preserveOrder,window.WUAPI.setWebhookEvent(t),n("WAWebMsgCollection").MsgCollection.processMultipleMessages(r,t,o,a,i,e)},addInitialBotTypingIndicatorToChat:function(e){var r=e.chatId;return e=e.msgKey,n("WAWebMsgCollection").MsgCollection.addInitialBotTypingIndicatorToChat(r,e)},msgCollectionTrigger:function(e){e=e.name,n("WAWebMsgCollection").MsgCollection.trigger(e)},processKeepInChatMessages:function(e){var r=e.keepInChatMessages;return e=e.allowNotification,n("WAWebKeepInChatMsgAction").processKeepInChatMessages(r,e)},updateUnattributedMessages:function(e){var r=e.messageInfo;return e=e.messages,n("WAWebBizAgentAction").updateUnattributedMessages(r,e)},processKeepInChatMessage:function(e){var r=e.keepInChatMessage;return e=e.allowNotification,n("WAWebKeepInChatMsgAction").processKeepInChatMessage(r,{allowNotification:e})},updateEditedMessagesAction:function(e){e=e.messageEdits,n("WAWebUpdateEditedMessagesAction").updateEditedMessagesAction(e)},updateMessageUI:function(e){var r=e.chatId,t=e.msg,o=e.messageOverwriteOption,a=e.preserveOrder;return e=e.isOffline,window.WUAPI.setWebhookEvent([{id:t.id,author:t.author,from:t.from,to:t.to,body:"chat"==t.type?t.body:"",type:t.type,recipients:[t.author],subtype:"message",t:1724951889}]),n("WAWebUpdateMessageUIAction").updateUI(r,t,o,a,e)},updateMsgModelAcks:function(e){(e=e.updates).forEach((function(e){var r=n("WAWebMsgCollection").MsgCollection.get(e.id);null!=r&&(r.ack=e.ack)}))},updateReactionUI:function(e){var r=e.msg;return e=e.reparsing,n("WAWebUpdateReactionMessageUIAction").updateReactionUI(r,e)},updateReactionCollection:function(e){var r=e.msgs,t=e.removeReactions;return e=e.allowNotifications,n("WAWebUpdateReactionMessageUIAction").updateReactionCollection(r,t,e)},processOrphanReadReceipts:function(e){return e=e.msgIds,n("WAWebAckMsgAction").processOrphanReadReceipts(e)},updateMsgPeerAcks:function(e){var r=e.msgKeys,t=e.ack;return e=e.t,n("WAWebUpdateMsgAcksAction").updateMsgPeerAcks(r,t,e)},updateMsgOtherAcks:function(e){var r=e.msgKeys,t=e.ack;return e=e.t,n("WAWebUpdateMsgAcksAction").updateMsgOtherAcks(r,t,e)},handleDeferredMessages:function(){return t("WAWebHandleDeferredMessages")()},processEphemeralSyncResponse:function(e){return e=e.msg,n("WAWebEphemeralSyncResponse").processEphemeralSyncResponse(e)},refreshAltLinkingCode:function(e){return e=e.ref,n("WAWebLinkDeviceAction").refreshAltLinkingCode(e)},forceManualRefresh:function(e){return e=e.ref,n("WAWebLinkDeviceAction").forceManualRefresh(e)},errorAltLinking:function(){return n("WAWebLinkDeviceAction").errorAltLinking()},primaryHelloReceivedAltLinking:function(){return n("WAWebLinkDeviceAction").primaryHelloReceivedAltLinking()},changeOptInStatusForExternalWebBeta:function(){n("WAWebExternalBetaEvents").WAWebExternalBetaEvents.triggerBetaOptInStatusChanges()},successHistorySyncOd:function(e){return e=e.chatId,n("WAWebHistorySyncOnDemandAction").successHistorySyncOd(e)},errorHistorySyncOd:function(e){return e=e.chatId,n("WAWebHistorySyncOnDemandAction").errorHistorySyncOd(e)},hasMsgsInCollection:function(e){return(e=e.msgKeys).map((function(e){return Boolean(n("WAWebMsgCollection").MsgCollection.get(e))}))},deleteAssociatedBotCarouselMsgs:function(e){(e=e.msgKeys).forEach((function(e){(e=n("WAWebMsgCollection").MsgCollection.get(e))&&(e.delete(),n("WAWebMsgCollection").MsgCollection.remove(e))}))},removePlaceholder:function(e){return e=e.msg,n("WAWebUpdateMessageUIAction").removePlaceholder(e)},updateReplyCount:function(e){return e=e.replyCountMap,n("WAWebUpdateReplyApi").updateReplyCount(e)},updateMsgModelHostedBizEncStateMismatchFlagToTrue:function(e){e=e.msgId,null!=(e=n("WAWebMsgCollection").MsgCollection.get(e))&&(e.hostedBizEncStateMismatch=!0)}},i.MsgBridgeApi=e}),98),define("WAWebPollsSendPollCreationMsgAction",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebPollsSendPollCreationMsgAction",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){var s;function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(o){var a,i,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.poll,i=o.chat,o=c({poll:a,chat:i,quotedMsg:o=o.quotedMsg}),!(u=t("WAWebWid").isNewsletter(i.id))){e.next=9;break}return e.next=6,n("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:o,chat:i});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(s||(s=r("Promise"))).all(n("WAWebSendMsgChatAction").addAndSendMsgToChat(i,o));case 11:e.t0=e.sent;case 12:return o=(u=e.t0)[0],e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){var r,o=e.poll,a=e.chat;e=e.quotedMsg;var i=t("WAWebWid").isNewsletter(a.id),s=a.id;return r=a.id.isLid()||a.isGroup&&Boolean(null==(r=a.groupMetadata)?void 0:r.isLidAddressingMode)?t("WANullthrows")(n("WAWebUserPrefsMeUser").getMaybeMeLidUser()):t("WANullthrows")(n("WAWebUserPrefsMeUser").getMaybeMeUser()),e=null!=(e=null==e?void 0:e.msgContextInfo(a.id))?e:{},babelHelpers.extends({id:new(t("WAWebMsgKey"))({from:r,to:s,id:t("WAWebMsgKey").newId_DEPRECATED(),participant:a.isGroup?n("WAWebWidFactory").toUserWid(r):void 0,selfDir:"out"}),type:n("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:n("WAWebMsgType").MsgKind.PollCreation,isSentCagPollCreation:!!a.isCAG||void 0,t:n("WATimeUtils").unixTime(),from:r,to:s,isNewMsg:!0,local:!0,ack:n("WAWebAck").ACK.CLOCK,pollName:n("WAXplatTrim").trim(o.name),pollOptions:o.options.map((function(e,r){return e=e.name,{name:n("WAXplatTrim").trim(e),localId:r}})),messageSecret:i?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:o.selectableOptionsCount},e,n("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(a))}i.sendPollCreation=function(e){return u.apply(this,arguments)},i.createPollCreationMsg=c}),98),define("WAWebMediaOpaqueData",["Promise","WABase64","WALogger","WANullthrows","WAShiftTimer","WAWebFileUtils","err"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebMediaOpaqueData",["Promise","WABase64","WALogger","WANullthrows","WAShiftTimer","WAWebFileUtils","err"],(function(e,r,t,n,o,a,i){function s(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:size returned 0"]);return s=function(){return e},e}function u(){var e=babelHelpers.taggedTemplateLiteralLoose([""," called on unretained OpaqueData"]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose([""," called on released OpaqueData"]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:autorelease too many release calls"]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:autorelease called on released object"]);return l=function(){return e},e}function d(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:retain called on released OpaqueData"]);return d=function(){return e},e}var m,g=[],f=new(n("WAShiftTimer").ShiftTimer)((function(){var e=g;g=[];for(var r=0;r<e.length;r++){var t=e[r];t._inAutoreleasePool=!1,0!==t._retainCount||t.released||(t.released=!0,t._releaseImpl())}})),W=function(){function e(){this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1,this._b64=void 0,this._blob=void 0,this._url=void 0,this._mimetype=void 0,this._released=void 0}var o=e.prototype;return o.retain=function(){if(this.released)throw n("WALogger").WARN(d()),t("err")("OpaqueData:retain called on released OpaqueData");this._retainCount++},o.autorelease=function(){this.released?n("WALogger").WARN(l()):0===this._retainCount?n("WALogger").WARN(p()):1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,g.push(this),f.onOrBefore(1e3))):this._retainCount--},o.autoreleaseWhenPromiseCompletes=function(e){var r=this,t=function(){r.autorelease()};e.then(t,t)},o.throwIfReleased=function(e){if(this.released)throw n("WALogger").ERROR(c(),e),t("err")(e+" called on released OpaqueData");0===this._retainCount&&n("WALogger").ERROR(u(),e)},o.url=function(){return this.throwIfReleased("OpaqueData:url"),null!=this._url&&""!==this._url?this._url:null!=this._b64&&""!==this._b64?(this._url="data:image/jpeg;base64,"+this._b64,this._url):(this._url=window.URL.createObjectURL(t("WANullthrows")(this._blob)),this._url)},o.getBlob=function(){return this._blob},o.getBase64=function(){return this._b64},o.validate=function(){return!0===this._released?(m||(m=r("Promise"))).resolve(!1):this._blob?n("WAWebFileUtils").validateBlob(this._blob):(m||(m=r("Promise"))).resolve(!0)},o.size=function(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:null!=this._b64?n("WABase64").sizeWhenB64Decoded(this._b64):(n("WALogger").ERROR(s()).sendLogs("opaque-data-size-0"),0)},o.formData=function(e){return this.throwIfReleased("OpaqueData:formData"),this.forceToBlob()},o.type=function(){return this.throwIfReleased("OpaqueData:type"),null!=this._mimetype&&""!==this._mimetype?this._mimetype:"undefined"},o.forceToBlob=function(){this.throwIfReleased("OpaqueData:forceToBlob");var e=this._blob;if(e)return e;if(null!=(e=this._b64)&&""!==e){this._b64=void 0,this._url=void 0;var r=this._mimetype;return this._blob=new Blob([n("WABase64").decodeB64(e)],null!=r&&""!==r?{type:r}:void 0)}throw t("err")("OpaqueData:forceToBlob no b64 or blob")},o._releaseImpl=function(){this._mimetype=void 0,this._blob?(this._blob=void 0,null!=this._url&&""!==this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)},o.isBlobEqual=function(e){return e?this._blob===e._blob:!this._blob},e}();W.createFromBase64Jpeg=function(e){return new(m||(m=r("Promise")))((function(r){var t=new W;return t._b64=e,t._mimetype="image/jpeg",r(t)}))},W.createFromData=function(e,t){return new(m||(m=r("Promise")))((function(r){var n=new W;return n._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),n._mimetype=t,r(n)}))},i.default=W}),98),define("WAWebMedia",["WAWebCheckMediaExistence","WAWebClearMediaForChat","WAWebDownloadProgressiveJpegThumbnail","WAWebDownloadStatusThumbnail","WAWebDownloadVideoThumbnail","WAWebManuallySetMedia","WAWebMediaCancelDownloadMsg","WAWebMediaCancelUploadMsg","WAWebMediaDownloadMsg","WAWebMediaForwardMediaMsg","WAWebMediaMetadata","WAWebMediaMsgRegistration","WAWebMediaPrep","WAWebMediaProduct","WAWebMediaResumeUploadMsg","WAWebMediaStickers","WAWebMediaVideoStreaming","WAWebPrepRawMedia"],(function(e,r,t,n,o,a){}),66).cancel(),__d("WAWebMedia",["WAWebCheckMediaExistence","WAWebClearMediaForChat","WAWebDownloadProgressiveJpegThumbnail","WAWebDownloadStatusThumbnail","WAWebDownloadVideoThumbnail","WAWebManuallySetMedia","WAWebMediaCancelDownloadMsg","WAWebMediaCancelUploadMsg","WAWebMediaDownloadMsg","WAWebMediaForwardMediaMsg","WAWebMediaMetadata","WAWebMediaMsgRegistration","WAWebMediaPrep","WAWebMediaProduct","WAWebMediaResumeUploadMsg","WAWebMediaStickers","WAWebMediaVideoStreaming","WAWebPrepRawMedia"],(function(e,r,t,n,o,a){e=importNamespace("WAWebDownloadVideoThumbnail").downloadVideoThumbnail,r=importNamespace("WAWebMediaPrep").MediaPrep,t=importNamespace("WAWebCheckMediaExistence").checkMediaExistence,n=importNamespace("WAWebClearMediaForChat").clearMediaForChat,o=importNamespace("WAWebMediaDownloadMsg").downloadMsg;var i=importNamespace("WAWebDownloadProgressiveJpegThumbnail").downloadProgressiveJpegThumbnail,s=importNamespace("WAWebDownloadStatusThumbnail").downloadStatusThumbnail,u=importNamespace("WAWebMediaForwardMediaMsg").forwardMediaMsg,c=importNamespace("WAWebManuallySetMedia").manuallySetMedia,p=importNamespace("WAWebPrepRawMedia").prepRawMedia,l=importNamespace("WAWebMediaResumeUploadMsg").resumeUploadMsg;Object.keys(importNamespace("WAWebMediaCancelDownloadMsg")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaCancelDownloadMsg")[e])})),Object.keys(importNamespace("WAWebMediaCancelUploadMsg")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaCancelUploadMsg")[e])})),Object.keys(importNamespace("WAWebMediaMetadata")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaMetadata")[e])})),Object.keys(importNamespace("WAWebMediaMsgRegistration")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaMsgRegistration")[e])})),Object.keys(importNamespace("WAWebMediaProduct")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaProduct")[e])})),Object.keys(importNamespace("WAWebMediaStickers")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaStickers")[e])})),Object.keys(importNamespace("WAWebMediaVideoStreaming")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaVideoStreaming")[e])})),a.downloadVideoThumbnail=e,a.MediaPrep=r,a.checkMediaExistence=t,a.clearMediaForChat=n,a.downloadMsg=o,a.downloadProgressiveJpegThumbnail=i,a.downloadStatusThumbnail=s,a.forwardMediaMsg=u,a.manuallySetMedia=c,a.prepRawMedia=p,a.resumeUploadMsg=l}),66),define("WAWebMexFetchGroupInviteCodeJob",["WALogger","WAWebMexClient","WAWebMexFetchGroupInviteCodeJobQuery.graphql","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebMexFetchGroupInviteCodeJob",["WALogger","WAWebMexClient","WAWebMexFetchGroupInviteCodeJobQuery.graphql","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,i){var s;function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["[MEX][GROUP] fetched group invite code for ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["[MEX][GROUP] fetching group invite code for ",""]);return c=function(){return e},e}var p=void 0!==s?s:s=r("WAWebMexFetchGroupInviteCodeJobQuery.graphql");function l(){return l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("WALogger").LOG(c(),r.toString()).tags("GQL","MEX"),e.next=3,n("WAWebMexClient").fetchQuery(p,{id:r.toString(),query_context:"INVITE_CODE"});case 3:if(a=e.sent,o=null==(o=a.xwa2_group_query_by_id)?void 0:o.invite_code,n("WALogger").LOG(u(),r).tags("GQL","MEX").devConsole({response:a,inviteCode:o}),null!=o){e.next=8;break}throw t("err")("[MEX][GROUP] group invite code is null");case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}i.fetchMexGroupInviteCode=function(e){return l.apply(this,arguments)}}),98),define("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","gkx"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","gkx"],(function(e,r,t,n,o,a,i){function s(){var e=babelHelpers.taggedTemplateLiteralLoose(["Cannot set ocVersion ",""]);return s=function(){return e},e}function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["Cannot analyze UC ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["A caller is not found ",""]);return l=function(){return e},e}e=function(){return!Boolean(("undefined"!=typeof self?self.navigator:null).webdriver)};(r="webpackChunkwhatsapp_web_client")in window||(window[r]=[]);var d=window[r];null!=d&&Object.defineProperty(window,r,{get:function(){if(!function(){try{var e=Error(),r=(e=e.stack).split("\n").filter((function(e){return Boolean(e.trim())})).pop();if(null==r)return n("WALogger").WARN(l(),e).tags("uc"),!0;if(!r.includes(".whatsapp.com"))return t("gkx")("26258")?n("WALogger").WARN(c(),r).tags("uc"):n("WALogger").WARN(p(),r).tags("uc").sendLogs("Unexpectedly detected UC"),!1}catch(e){n("WALogger").WARN(u(),e.stack).tags("uc")}return!0}())try{n("WAWebWamGlobals").Global.set({ocVersion:0})}catch(e){n("WALogger").WARN(s(),e.stack).tags("uc")}return d}}),o=e(),a=function(e){return!!e.startsWith("BA")},i.isOfficialClient=o,i.isUnofficialStanzaId=a}),98),define("WAWebGroupCommunityJob",["Promise","WACustomError","WALogger","WASmaxGroupsCreateRPC","WASmaxGroupsDeleteParentGroupRPC","WASmaxGroupsLinkSubGroupsRPC","WASmaxGroupsRemoveParticipantsRPC","WASmaxGroupsUnlinkGroupsRPC","WAWap","WAWebBackendErrors","WAWebJidToWid","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebGroupCommunityJob",["Promise","WACustomError","WALogger","WASmaxGroupsCreateRPC","WASmaxGroupsDeleteParentGroupRPC","WASmaxGroupsLinkSubGroupsRPC","WASmaxGroupsRemoveParticipantsRPC","WASmaxGroupsUnlinkGroupsRPC","WAWap","WAWebBackendErrors","WAWebJidToWid","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){var s;function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendUnlinkSubgroups failed: ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendUnlinkSubgroups failed: ",""]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendLinkSubgroups failed: ",""]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendLinkSubgroups failed: ",""]);return l=function(){return e},e}function d(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendRemoveFromCommunity failed: ",""]);return d=function(){return e},e}function m(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendRemoveFromCommunity failed: ",""]);return m=function(){return e},e}function g(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendDeactivateCommunity failed: ",""]);return g=function(){return e},e}function f(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendDeactivateCommunity failed: ",""]);return f=function(){return e},e}function W(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return W=function(){return e},e}function b(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return b=function(){return e},e}function A(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return A=function(){return e},e}function h(){return h=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,i,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.name,a=t.desc,i=t.closed,u=t.hasAllowNonAdminSubGroupCreation,t=t.shouldCreateGeneralChat,a=babelHelpers.extends({},null!=a&&a.length>0&&{descriptionArgs:{descriptionId:n("WAWap").generateId(),bodyElementValue:a}},{namedSubjectOrUnnamedSubjectFallbackMixinGroupArgs:{namedSubject:{anySubject:o}},hasAnnouncement:!1,hasCapi:!1,hasNoFrequentlyForwarded:!1,hasHiddenGroup:!1,hasLocked:!1,parentArgs:{hasParentGroupDefaultMembershipApprovalMode:!!i||void 0},hasBreakout:!1,hasAllowNonAdminSubGroupCreation:!!u,hasCreateGeneralChat:t}),e.next=5,n("WASmaxGroupsCreateRPC").sendCreateRPC(a,{timeoutSeconds:10});case 5:o=e.sent,e.t0=o.name,e.next="CreateResponseSuccess"===e.t0?9:"CreateResponseClientError"===e.t0?16:"CreateResponseServerError"===e.t0?21:"CreateResponseGroupAlreadyExists"===e.t0?26:28;break;case 9:return i=o.value,u=i.groupId,t=i.groupNamedSubjectOrUnnamedSubjectFallbackMixinGroup,a=i.groupCreator,i=i.groupCreation,u=n("WAWebWidFactory").createWid(u+"@g.us"),e.abrupt("return",{wid:u,subject:t.value.subject,creator:n("WAWebJidToWid").userJidToUserWid(a),ts:i});case 16:return n("WALogger").LOG(A(),o.name),u=o.value.errorCreateClientErrors.value,t=u.code,a=u.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(t),a)));case 21:return n("WALogger").LOG(b(),o.name),i=o.value.errorServerErrors.value,u=i.code,t=i.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(u),t)));case 26:return n("WALogger").LOG(W(),o.name),e.abrupt("return",(s||(s=r("Promise"))).reject(n("WACustomError").customError("CreateResponseGroupAlreadyExists")));case 28:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function y(){return y=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.parentGroupId,e.next=3,n("WASmaxGroupsDeleteParentGroupRPC").sendDeleteParentGroupRPC({iqTo:n("WAWebWidToJid").widToGroupJid(t)});case 3:o=e.sent,e.t0=o.name,e.next="DeleteParentGroupResponseSuccess"===e.t0?7:"DeleteParentGroupResponseClientError"===e.t0?8:"DeleteParentGroupResponseServerError"===e.t0?13:18;break;case 7:return e.abrupt("return",{parent_group_jid:n("WAWebWidToJid").widToGroupJid(t)});case 8:return n("WALogger").LOG(f(),o.name),t=o.value.errorDeleteParentGroupClientError.value,a=t.code,t=t.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),t)));case 13:return n("WALogger").LOG(g(),o.name),a=o.value.errorServerErrors.value,t=a.code,o=a.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(t),o)));case 18:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function v(){return v=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,t=t.contactId,e.next=4,n("WASmaxGroupsRemoveParticipantsRPC").sendRemoveParticipantsRPC({participantArgs:[{participantJid:n("WAWebWidToJid").widToUserJid(t)}],iqTo:n("WAWebWidToJid").widToGroupJid(o),hasRemoveLinkedGroupsTrue:!0});case 4:t=e.sent,e.t0=t.name,e.next="RemoveParticipantsResponseSuccess"===e.t0?8:"RemoveParticipantsResponseClientError"===e.t0?11:"RemoveParticipantsResponseServerError"===e.t0?16:21;break;case 8:return a=t.value.removeParticipant[0],i=a.jid,a=a.participantNotInGroupOrParticipantNotAllowedOrParticipantNotAcceptableOrRemoveParticipantsLinkedGroupsServerErrorMixinGroup,e.abrupt("return",{parentGroupJid:n("WAWebWidToJid").widToGroupJid(o),contactJid:i,errorCode:null==a?void 0:a.value.error});case 11:return n("WALogger").LOG(m(),t.name),o=t.value.errorRemoveParticipantsClientErrors.value,i=o.code,a=o.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(i),a)));case 16:return n("WALogger").LOG(d(),t.name),o=t.value.errorServerErrors.value,i=o.code,a=o.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(i),a)));case 21:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(){return w=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,i,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,t=t.subgroupIds,e.next=4,n("WASmaxGroupsLinkSubGroupsRPC").sendLinkSubGroupsRPC({groupArgs:t.map((function(e){return{groupJid:n("WAWebWidToJid").widToGroupJid(e),hasHiddenGroup:!1}})),iqTo:n("WAWebWidToJid").widToGroupJid(o)});case 4:t=e.sent,e.t0=t.name,e.next="LinkSubGroupsResponseSuccess"===e.t0?8:"LinkSubGroupsResponseClientError"===e.t0?11:"LinkSubGroupsResponseServerError"===e.t0?16:21;break;case 8:return a=[],i=[],u=[],t.value.linksLinkGroup.forEach((function(e){var r;(r=parseInt(null==(r=e.subGroupNotAuthorizedOrForbiddenOrNotExistOrNotAcceptableOrConflictOrResourceLimitOrServerErrorMixinGroup)?void 0:r.value.error,10))?i.push({jid:e.jid,error:r}):a.push(e.jid),e.participant&&u.push.apply(u,e.participant.map((function(e){return e.jid})))})),e.abrupt("return",{linkedGroupJids:a,failedGroups:i,failedParticipantJids:u});case 11:return n("WALogger").LOG(l(),t.name),o=t.value.errorLinkSubGroupsClientError.value,c=o.code,o=o.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(c),o)));case 16:return n("WALogger").LOG(p(),t.name),c=t.value.errorServerErrors.value,o=c.code,t=c.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),t)));case 21:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function S(){return S=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,i,p,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,a=t.subgroupIds,t=t.removeOrphanMembers,i=void 0!==t&&t,e.next=5,n("WASmaxGroupsUnlinkGroupsRPC").sendUnlinkGroupsRPC({groupArgs:a.map((function(e){return{groupJid:n("WAWebWidToJid").widToGroupJid(e),hasGroupRemoveOrphanedMembersTrue:i}})),iqTo:n("WAWebWidToJid").widToGroupJid(o)});case 5:t=e.sent,e.t0=t.name,e.next="UnlinkGroupsResponseSuccess"===e.t0?9:"UnlinkGroupsResponseClientError"===e.t0?12:"UnlinkGroupsResponseServerError"===e.t0?17:22;break;case 9:return p=[],l=[],t.value.unlinkGroup.forEach((function(e){var r;(r=parseInt(null==(r=e.subGroupBadRequestOrNotAuthorizedOrNotExistOrNotAcceptableOrPartialServerErrorOrServerErrorMixinGroup)?void 0:r.value.error,10))?l.push({jid:e.jid,error:r}):p.push(e.jid)})),e.abrupt("return",{unlinkedGroupJids:p,failedGroups:l});case 12:return n("WALogger").LOG(c(),t.name),a=t.value.errorUnlinkGroupsClientError.value,o=a.code,a=a.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),a)));case 17:return n("WALogger").LOG(u(),t.name),o=t.value.errorServerErrors.value,a=o.code,t=o.text,e.abrupt("return",(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),t)));case 22:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}i.sendCreateCommunity=function(e){return h.apply(this,arguments)},i.sendDeactivateCommunity=function(e){return y.apply(this,arguments)},i.sendRemoveFromCommunity=function(e){return v.apply(this,arguments)},i.sendLinkSubgroups=function(e){return w.apply(this,arguments)},i.sendUnlinkSubgroups=function(e){return S.apply(this,arguments)}}),98),define("WAWebGroupModifyInfoJob",["Promise","WASmaxGroupsSetDescriptionRPC","WASmaxGroupsSetMemberAddModeRPC","WASmaxGroupsSetPropertyRPC","WASmaxGroupsSetSubjectRPC","WAWebBackendErrors","WAWebEphemeralityUtils","WAWebGroupConstants","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebGroupModifyInfoJob",["Promise","WASmaxGroupsSetDescriptionRPC","WASmaxGroupsSetMemberAddModeRPC","WASmaxGroupsSetPropertyRPC","WASmaxGroupsSetSubjectRPC","WAWebBackendErrors","WAWebEphemeralityUtils","WAWebGroupConstants","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,i){var s;function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t,o){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("WASmaxGroupsSetSubjectRPC").sendSetSubjectRPC({iqTo:n("WAWebWidToJid").widToGroupJid(t),subjectElementValue:o});case 2:t=e.sent,e.t0=t.name,e.next="SetSubjectResponseSuccess"===e.t0?6:"SetSubjectResponseClientError"===e.t0?7:"SetSubjectResponseServerError"===e.t0?9:10;break;case 6:return e.abrupt("return");case 7:return a=(o=t.value.errorSetSubjectClientErrors.value).code,e.abrupt("return",(o=o.text,(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),o))));case 9:return e.abrupt("return",(o=(a=t.value.errorServerErrors.value).code,t=a.text,(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),t))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t,o,a,i){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==o){e.next=6;break}return e.next=3,n("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:{bodyElementValue:o},iqTo:n("WAWebWidToJid").widToGroupJid(t),descriptionId:a,descriptionPrev:i,hasDescriptionDeleteTrue:!1});case 3:e.t1=e.sent,e.next=9;break;case 6:return e.next=8,n("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:void 0,iqTo:n("WAWebWidToJid").widToGroupJid(t),descriptionId:a,descriptionPrev:i,hasDescriptionDeleteTrue:!0});case 8:e.t1=e.sent;case 9:e.t0=(o=e.t1).name,e.next="SetDescriptionResponseSuccess"===e.t0?12:"SetDescriptionResponseClientError"===e.t0?13:"SetDescriptionResponseServerError"===e.t0?14:15;break;case 12:return e.abrupt("return");case 13:return e.abrupt("return",(a=(t=o.value.errorSetDescriptionClientErrors.value).code,i=t.text,(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),i))));case 14:return e.abrupt("return",(a=(t=o.value.errorServerErrors.value).code,i=t.text,(s||(s=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),i))));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,o){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=1===o?{isAllMembersAddMode:!0}:{isAdminAddMode:!0},n("WASmaxGroupsSetMemberAddModeRPC").sendSetMemberAddModeRPC({iqTo:n("WAWebWidToJid").widToGroupJid(r),adminOrAllMembersOrUnknownAddModeMixinGroupArgs:t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,o){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={hasLocked:!1,hasAnnouncement:!1,hasNoFrequentlyForwarded:!1,ephemeralArgs:null,hasUnlocked:!1,hasNotAnnouncement:!1,hasFrequentlyForwardedOk:!1,hasNotEphemeral:!0,membershipApprovalModeArgs:null,hasAllowAdminReports:!1,hasNotAllowAdminReports:!1,hasAllowNonAdminSubGroupCreation:!1,hasNotAllowNonAdminSubGroupCreation:!1,hasGroupHistory:!1,hasNoGroupHistory:!1,iqTo:n("WAWebWidToJid").widToGroupJid(r)},a=n("WAWebEphemeralityUtils").getGroupEphemeralTrigger(o),e.abrupt("return",(r=null!=o?babelHelpers.extends({},r,{ephemeralArgs:t>0?{ephemeralExpiration:t,ephemeralTrigger:a}:null,hasNotEphemeral:t<=0}):babelHelpers.extends({},r,{ephemeralArgs:t>0?{ephemeralExpiration:t}:null,hasNotEphemeral:t<=0}),n("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(r)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.setGroupSubject=function(e,r){return u.apply(this,arguments)},i.setGroupDescription=function(e,r,t,n){return c.apply(this,arguments)},i.setGroupMemberAddMode=function(e,r,t){return p.apply(this,arguments)},i.setGroupProperty=function(e,o,a){switch(e={hasLocked:!1,hasAnnouncement:!1,hasNoFrequentlyForwarded:!1,ephemeralArgs:null,hasUnlocked:!1,hasNotAnnouncement:!1,hasFrequentlyForwardedOk:!1,hasNotEphemeral:!1,membershipApprovalModeArgs:null,hasAllowAdminReports:!1,hasNotAllowAdminReports:!1,hasAllowNonAdminSubGroupCreation:!1,hasNotAllowNonAdminSubGroupCreation:!1,hasGroupHistory:!1,hasNoGroupHistory:!1,iqTo:n("WAWebWidToJid").widToGroupJid(e)},o){case n("WAWebGroupConstants").GROUP_SETTING_TYPE.ANNOUNCEMENT:e=babelHelpers.extends({},e,{hasAnnouncement:1===a,hasNotAnnouncement:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.RESTRICT:e=babelHelpers.extends({},e,{hasLocked:1===a,hasUnlocked:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:e=babelHelpers.extends({},e,{hasNoFrequentlyForwarded:1===a,hasFrequentlyForwardedOk:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.EPHEMERAL:e=babelHelpers.extends({},e,{ephemeralArgs:a>0?{ephemeralExpiration:a}:null,hasNotEphemeral:a<=0});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.MEMBERSHIP_APPROVAL_MODE:e=babelHelpers.extends({},e,{membershipApprovalModeArgs:{groupJoinMembershipApprovalModeEnabledOrDisabledMixinGroupArgs:1===a?{isGroupJoinMembershipApprovalModeEnabled:!0}:{isGroupJoinMembershipApprovalModeDisabled:!0}}});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.REPORT_TO_ADMIN_MODE:e=babelHelpers.extends({},e,{hasAllowAdminReports:1===a,hasNotAllowAdminReports:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:e=babelHelpers.extends({},e,{hasAllowNonAdminSubGroupCreation:1===a,hasNotAllowNonAdminSubGroupCreation:1!==a});break;default:return(s||(s=r("Promise"))).reject(t("err")("invalid group property "+o))}return n("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(e)},i.setEphemeralGroupProperty=function(e,r,t){return l.apply(this,arguments)}}),98),define("WASmaxGroupsSetSubjectRPC",["WAComms","WASmaxInGroupsSetSubjectResponseClientError","WASmaxInGroupsSetSubjectResponseServerError","WASmaxInGroupsSetSubjectResponseSuccess","WASmaxOutGroupsSetSubjectRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsSetSubjectRPC",["WAComms","WASmaxInGroupsSetSubjectResponseClientError","WASmaxInGroupsSetSubjectResponseServerError","WASmaxInGroupsSetSubjectResponseSuccess","WASmaxOutGroupsSetSubjectRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendSetSubjectRPC=function(e,t){var o,a,i,s,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsSetSubjectRequest").makeSetSubjectRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(i=n("WASmaxInGroupsSetSubjectResponseSuccess").parseSetSubjectResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"SetSubjectResponseSuccess",value:i.value});case 7:if(!(s=n("WASmaxInGroupsSetSubjectResponseClientError").parseSetSubjectResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"SetSubjectResponseClientError",value:s.value});case 10:if(!(u=n("WASmaxInGroupsSetSubjectResponseServerError").parseSetSubjectResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"SetSubjectResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("SetSubject",{Success:i,ClientError:s,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsSetDescriptionRPC",["WAComms","WASmaxInGroupsSetDescriptionResponseClientError","WASmaxInGroupsSetDescriptionResponseServerError","WASmaxInGroupsSetDescriptionResponseSuccess","WASmaxOutGroupsSetDescriptionRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsSetDescriptionRPC",["WAComms","WASmaxInGroupsSetDescriptionResponseClientError","WASmaxInGroupsSetDescriptionResponseServerError","WASmaxInGroupsSetDescriptionResponseSuccess","WASmaxOutGroupsSetDescriptionRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendSetDescriptionRPC=function(e,t){var o,a,i,s,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsSetDescriptionRequest").makeSetDescriptionRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(i=n("WASmaxInGroupsSetDescriptionResponseSuccess").parseSetDescriptionResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"SetDescriptionResponseSuccess",value:i.value});case 7:if(!(s=n("WASmaxInGroupsSetDescriptionResponseClientError").parseSetDescriptionResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"SetDescriptionResponseClientError",value:s.value});case 10:if(!(u=n("WASmaxInGroupsSetDescriptionResponseServerError").parseSetDescriptionResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"SetDescriptionResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("SetDescription",{Success:i,ClientError:s,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsAddParticipantsRPC",["WAComms","WASmaxInGroupsAddParticipantsResponseClientError","WASmaxInGroupsAddParticipantsResponseServerError","WASmaxInGroupsAddParticipantsResponseSuccess","WASmaxOutGroupsAddParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsAddParticipantsRPC",["WAComms","WASmaxInGroupsAddParticipantsResponseClientError","WASmaxInGroupsAddParticipantsResponseServerError","WASmaxInGroupsAddParticipantsResponseSuccess","WASmaxOutGroupsAddParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendAddParticipantsRPC=function(e,t){var o,a,i,s,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsAddParticipantsRequest").makeAddParticipantsRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(i=n("WASmaxInGroupsAddParticipantsResponseSuccess").parseAddParticipantsResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"AddParticipantsResponseSuccess",value:i.value});case 7:if(!(s=n("WASmaxInGroupsAddParticipantsResponseClientError").parseAddParticipantsResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"AddParticipantsResponseClientError",value:s.value});case 10:if(!(u=n("WASmaxInGroupsAddParticipantsResponseServerError").parseAddParticipantsResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"AddParticipantsResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("AddParticipants",{Success:i,ClientError:s,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsPromoteDemoteAdminRPC",["WAComms","WASmaxInGroupsPromoteDemoteAdminResponseClientError","WASmaxInGroupsPromoteDemoteAdminResponseServerError","WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin","WASmaxOutGroupsPromoteDemoteAdminRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsPromoteDemoteAdminRPC",["WAComms","WASmaxInGroupsPromoteDemoteAdminResponseClientError","WASmaxInGroupsPromoteDemoteAdminResponseServerError","WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin","WASmaxOutGroupsPromoteDemoteAdminRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendPromoteDemoteAdminRPC=function(e,t){var o,a,i,s,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsPromoteDemoteAdminRequest").makePromoteDemoteAdminRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(i=n("WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin").parsePromoteDemoteAdminResponseSuccessMultiAdmin(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseSuccessMultiAdmin",value:i.value});case 7:if(!(s=n("WASmaxInGroupsPromoteDemoteAdminResponseClientError").parsePromoteDemoteAdminResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseClientError",value:s.value});case 10:if(!(u=n("WASmaxInGroupsPromoteDemoteAdminResponseServerError").parsePromoteDemoteAdminResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("PromoteDemoteAdmin",{SuccessMultiAdmin:i,ClientError:s,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsPromoteDemoteRPC",["WAComms","WASmaxInGroupsPromoteDemoteResponseClientError","WASmaxInGroupsPromoteDemoteResponseServerError","WASmaxInGroupsPromoteDemoteResponseSuccessDemote","WASmaxInGroupsPromoteDemoteResponseSuccessPromote","WASmaxOutGroupsPromoteDemoteRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsPromoteDemoteRPC",["WAComms","WASmaxInGroupsPromoteDemoteResponseClientError","WASmaxInGroupsPromoteDemoteResponseServerError","WASmaxInGroupsPromoteDemoteResponseSuccessDemote","WASmaxInGroupsPromoteDemoteResponseSuccessPromote","WASmaxOutGroupsPromoteDemoteRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendPromoteDemoteRPC=function(e,t){var o,a,i,s,u,c;return r("regeneratorRuntime").async((function(p){for(;;)switch(p.prev=p.next){case 0:return o=n("WASmaxOutGroupsPromoteDemoteRequest").makePromoteDemoteRequest(e),p.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=p.sent,!(i=n("WASmaxInGroupsPromoteDemoteResponseSuccessPromote").parsePromoteDemoteResponseSuccessPromote(a,o)).success){p.next=7;break}return p.abrupt("return",{name:"PromoteDemoteResponseSuccessPromote",value:i.value});case 7:if(!(s=n("WASmaxInGroupsPromoteDemoteResponseSuccessDemote").parsePromoteDemoteResponseSuccessDemote(a,o)).success){p.next=10;break}return p.abrupt("return",{name:"PromoteDemoteResponseSuccessDemote",value:s.value});case 10:if(!(u=n("WASmaxInGroupsPromoteDemoteResponseClientError").parsePromoteDemoteResponseClientError(a,o)).success){p.next=13;break}return p.abrupt("return",{name:"PromoteDemoteResponseClientError",value:u.value});case 13:if(!(c=n("WASmaxInGroupsPromoteDemoteResponseServerError").parsePromoteDemoteResponseServerError(a,o)).success){p.next=16;break}return p.abrupt("return",{name:"PromoteDemoteResponseServerError",value:c.value});case 16:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("PromoteDemote",{SuccessPromote:i,SuccessDemote:s,ClientError:u,ServerError:c}));case 17:case"end":return p.stop()}}),null,this)}}),98),define("WASmaxGroupsRemoveParticipantsRPC",["WAComms","WASmaxInGroupsRemoveParticipantsResponseClientError","WASmaxInGroupsRemoveParticipantsResponseServerError","WASmaxInGroupsRemoveParticipantsResponseSuccess","WASmaxOutGroupsRemoveParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WASmaxGroupsRemoveParticipantsRPC",["WAComms","WASmaxInGroupsRemoveParticipantsResponseClientError","WASmaxInGroupsRemoveParticipantsResponseServerError","WASmaxInGroupsRemoveParticipantsResponseSuccess","WASmaxOutGroupsRemoveParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,i){i.sendRemoveParticipantsRPC=function(e,t){var o,a,i,s,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsRemoveParticipantsRequest").makeRemoveParticipantsRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(i=n("WASmaxInGroupsRemoveParticipantsResponseSuccess").parseRemoveParticipantsResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"RemoveParticipantsResponseSuccess",value:i.value});case 7:if(!(s=n("WASmaxInGroupsRemoveParticipantsResponseClientError").parseRemoveParticipantsResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"RemoveParticipantsResponseClientError",value:s.value});case 10:if(!(u=n("WASmaxInGroupsRemoveParticipantsResponseServerError").parseRemoveParticipantsResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"RemoveParticipantsResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("RemoveParticipants",{Success:i,ClientError:s,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql",[],(function(e,r,t,n,o,a){}),null).cancel(),__d("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql",[],(function(e,r,t,n,o,a){e=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],r=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterLinkPreviewResponse",kind:"LinkedField",name:"xwa2_newsletter_link_preview",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"direct_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",selections:r},params:{id:"8262745580406730",metadata:{},name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",operationKind:"query",text:null}}}(),o.exports=e}),null),define("StyleXSheet",["invariant","ExecutionEnvironment","Locale","gkx"],(function(e,r,t,n,o,a,i,s){}),98).cancel(),__d("StyleXSheet",["invariant","ExecutionEnvironment","Locale","gkx"],(function(e,r,t,n,o,a,i,s){var u,c="__fb-light-mode",p="__fb-dark-mode";function l(e,r){var t=[];for(e in t.push(e+" {"),r){var n=r[e];t.push("  --"+e+": "+n+";")}return t.push("}"),t.join("\n")}var d=/var\(--(.*?)\)/g;(e=function(){function e(e){var r;this.tag=null,this.injected=!1,this.ruleForPriority=new Map,this.rules=[],this.rootTheme=e.rootTheme,this.rootDarkTheme=e.rootDarkTheme,this.isSlow=null!=(r=e.isSlow)?r:"object"==("undefined"==typeof location?"undefined":_typeof(location))&&"string"==typeof location.search&&location.search.includes("stylex-slow"),this.supportsVariables=null!=(r=e.supportsVariables)?r:null!=window.CSS&&null!=window.CSS.supports&&window.CSS.supports("--fake-var:0"),this.$1=n("Locale").isRTL(),this.externalRules=new Set}var r=e.prototype;return r.getVariableMatch=function(){return d},r.isHeadless=function(){return!1},r.getTag=function(){var e=this.tag;return null!=e||s(0,11103),e},r.getCSS=function(){return this.rules.join("\n")},r.getRulePosition=function(e){return this.rules.indexOf(e)},r.getRuleCount=function(){return this.rules.length},r.inject=function(){if(!this.injected){var e,r;if(this.injected=!0,!(u||(u=t("ExecutionEnvironment"))).canUseDOM)return void this.injectTheme();this.tag=((e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-styled","true"),(r=document.head||document.getElementsByTagName("head")[0])||s(0,2655),r.appendChild(e),e),this.injectTheme()}},r.injectTheme=function(){t("gkx")("21106")||(null!=this.rootTheme&&this.insert(l(":root, ."+c,this.rootTheme),0),null!=this.rootDarkTheme&&this.insert(l("."+p+":root, ."+p,this.rootDarkTheme),0))},r.__injectCustomThemeForTesting=function(e,r){null!=r&&this.insert(l(e,r),0)},r.delete=function(e){var r=this.rules.indexOf(e);r>=0||s(0,2656,e),this.rules.splice(r,1),this.isHeadless()||(e=this.getTag(),this.isSlow?e.removeChild(e.childNodes[r+1]):((e=e.sheet)||s(0,2657),e.deleteRule(r)))},r.normalizeRule=function(e){var r=this.rootTheme;return this.supportsVariables||null==r?e:e.replace(d,(function(e,t){return r[t]}))},r.getInsertPositionForPriority=function(e){var r=this.ruleForPriority.get(e);return null!=r?this.rules.indexOf(r)+1:0===(r=Array.from(this.ruleForPriority.keys()).sort((function(e,r){return r-e})).filter((function(r){return r>e?1:0}))).length?this.getRuleCount():(r=r.pop(),this.rules.indexOf(this.ruleForPriority.get(r)))},r.insert=function(e,r,t){if(!(!1===this.injected&&this.inject(),t=this.$1&&null!=t?t:e,this.externalRules.has(t.slice(0,t.indexOf("{")).trim())||this.rules.includes(t)||(e=this.normalizeRule(t),this.externalRules.has(e.slice(0,e.indexOf("{")).trim())||(t=this.getInsertPositionForPriority(r),this.rules.splice(t,0,e),this.ruleForPriority.set(r,e),this.isHeadless()))))if(r=this.getTag(),this.isSlow){var n=document.createTextNode(e);r.insertBefore(n,r.childNodes[t])}else if(null!=(n=r.sheet))try{n.insertRule(e,t)}catch(e){}},e}()).LIGHT_MODE_CLASS_NAME=c,e.DARK_MODE_CLASS_NAME=p,i.default=e}),98),define("WAWebGroupSystemMsg",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebApiParticipantStore","WAWebCommunityGatingUtils","WAWebContactSystemMsg","WAWebDBCommunity","WAWebDBGroupsGroupMetadata","WAWebGroupType","WAWebGroupsParticipantsApi","WAWebMsgKey","WAWebMsgType","WAWebPairList","WAWebProfilePicConstants","WAWebRequestMethodType","WAWebSchemaGroupMetadata","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){}),98).cancel(),__d("WAWebGroupSystemMsg",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebApiParticipantStore","WAWebCommunityGatingUtils","WAWebContactSystemMsg","WAWebDBCommunity","WAWebDBGroupsGroupMetadata","WAWebGroupType","WAWebGroupsParticipantsApi","WAWebMsgKey","WAWebMsgType","WAWebPairList","WAWebProfilePicConstants","WAWebRequestMethodType","WAWebSchemaGroupMetadata","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,i){var s;function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["genIntegrityDelteteParentNotificationMsgs: missing parentGroupMetadata"]);return u=function(){return e},e}function c(){return(c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(o,a,i,u){var c,p,l,m,g,f,W,b,A,h,v,w,S,P,R,x;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x=function(){return(x=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=u){e.next=4;break}e.t0=[],e.next=8;break;case 4:return e.next=6,d(o,u);case 6:e.t1=e.sent,e.t0=[e.t1];case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=a.participants.find((function(e){var r=e.isAdmin;return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)&&r})),e.next=4,(s||(s=r("Promise"))).all([i||R||!0!==a.defaultSubgroup||!0!==a.incognito?[]:[n("WAWebContactSystemMsg").genNotificationMsg(a.id,{type:"notification_template",kind:n("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"cag_masked_thread_created",templateParams:[]})],i?[]:[(c=o,p=a,g=c.chatId,m=null!=(m=null!=(m=p.owner)?m:c.author)?m:n("WAWebUserPrefsMeUser").getMaybeMeUser(),b=p.participants.some((function(e){var r=e.isAdmin;return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)&&r})),A=p.subject,!0===p.defaultSubgroup?(f="community_create",p.parentGroup&&(W=[p.parentGroup,p.subject]),m=null!=(l=p.owner)?l:c.author):!0===p.generalSubgroup&&b&&n("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()?(f="general_chat_add",W=["created",p.subject],m=null!=(l=p.owner)?l:c.author):(m=null!=(b=p.owner)?b:c.author,l=!0===p.membershipApprovalMode?"true":"false",b=!0===p.hiddenSubgroup?"true":"false",p.parentGroup&&1===p.participants.length&&n("WAWebCommunityGatingUtils").communityShortGroupCreationEnabled()?(W=[p.parentGroup,p.parentGroupSubject,p.subject,l,b],f="empty_subgroup_create"):f="create"),{id:new(t("WAWebMsgKey"))({remote:g,fromMe:!1,participant:m,id:y(c,f)}),author:m,body:A,from:g,recipients:[],subtype:f,t:null!=(l=p.creation)?l:c.ts,type:"gp2",kind:n("WAWebMsgType").MsgKind.Gp2,templateParams:W})],(h=a.ephemeralDuration,o.author&&null!=o.ts&&null!=h&&h>0?[(v=o.chatId,w=o.ts,S=o.author,P=h,{id:new(t("WAWebMsgKey"))({remote:v,fromMe:!1,participant:S,id:t("WAWebMsgKey").newId_DEPRECATED()}),author:S,from:v,to:n("WAWebUserPrefsMeUser").getMeUser(),recipients:[],subtype:"ephemeral",t:w,type:"gp2",kind:n("WAWebMsgType").MsgKind.Gp2,templateParams:[""+P]})]:[]),function(){return x.apply(this,arguments)}()]);case 4:return e.abrupt("return",e.sent.flat());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,r){return l.apply(this,arguments)}function l(){return(l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!!(r=r.parentGroupId),!e.t0){e.next=15;break}return e.next=4,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 4:if(e.t1=!(r=e.sent),e.t1){e.next=14;break}if(e.t2=null!=r,!e.t2){e.next=13;break}return e.next=10,n("WAWebDBCommunity").getJoinedSubgroups(n("WAWebWidFactory").createWid(r.id));case 10:e.t3=e.sent.length,e.t4=t,e.t2=e.t3<=e.t4;case 13:e.t1=e.t2;case 14:e.t0=e.t1;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r,t){return m.apply(this,arguments)}function m(){return(m=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,o,a){var i,s,u,c,l,d,m,g,f,W,b,A;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=r.chatId,u=void 0!==(u=r.isAdmin)&&u,l=r.author&&n("WAWebWidFactory").toUserWid(r.author)||void 0,d=null,m=[],g=l,f=o.actionType,W=null,b=o.parentGroupId,e.t0=o.actionType,e.next=e.t0===n("WAWebGroupType").GROUP_ACTIONS.SUBJECT?6:e.t0===n("WAWebGroupType").GROUP_ACTIONS.MODIFY?8:e.t0===n("WAWebGroupType").GROUP_ACTIONS.ADD?10:e.t0===n("WAWebGroupType").GROUP_ACTIONS.PROMOTE||e.t0===n("WAWebGroupType").GROUP_ACTIONS.DEMOTE||e.t0===n("WAWebGroupType").GROUP_ACTIONS.REMOVE||e.t0===n("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE||e.t0===n("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE?97:e.t0===n("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE?102:e.t0===n("WAWebGroupType").GROUP_ACTIONS.DESC_ADD?104:e.t0===n("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE?106:e.t0===n("WAWebGroupType").GROUP_ACTIONS.RESTRICT?108:e.t0===n("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE||e.t0===n("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD?110:e.t0===n("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL?112:e.t0===n("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED?114:e.t0===n("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK||e.t0===n("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK?116:e.t0===n("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK?118:e.t0===n("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP?120:e.t0===n("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE?122:e.t0===n("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE?124:e.t0===n("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS?128:e.t0===n("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS?130:e.t0===n("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION?136:e.t0===n("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION?138:e.t0===n("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED?140:e.t0===n("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE?142:e.t0===n("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP?144:145;break;case 6:return d=o.subject,e.abrupt("break",145);case 8:return m=o.participants.map((function(e){return e.id})),e.abrupt("break",145);case 10:if(o.reason!==n("WAWebGroupType").ADD_REASON.INVITE){e.next=30;break}if(!b||!o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)}))){e.next=27;break}if(!0!==o.generalSubgroup||!n("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){e.next=16;break}f="general_chat_add",W=["linked_group_join",null!=(i=o.groupName)?i:""],e.next=25;break;case 16:if(!0!==o.defaultSubgroup){e.next=20;break}f="community_invite_rich",W=[b,null!=(i=o.groupName)?i:""],e.next=25;break;case 20:return f="sub_group_invite_rich",e.next=23,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(b);case 23:i=e.sent,W=[b,null!=(i=null==i?void 0:i.subject)?i:""];case 25:e.next=28;break;case 27:f="invite";case 28:e.next=97;break;case 30:if(o.reason!==n("WAWebGroupType").ADD_REASON.LINKED_GROUP_JOIN){e.next=34;break}!0===o.generalSubgroup&&null!=b&&o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)}))&&n("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()?(f="general_chat_add",W=["linked_group_join",null!=(i=o.groupName)?i:""]):f="linked_group_join",e.next=97;break;case 34:if(o.reason!==n("WAWebGroupType").ADD_REASON.AUTO_ADD){e.next=47;break}if(!b){e.next=39;break}W=[b,null!=(i=o.groupName)?i:"",null!=(i=o.contextGroupId)?i:""],f="subgroup_admin_triggered_auto_add",e.next=45;break;case 39:return f="auto_add",e.next=42,p(o,2);case 42:if(e.t1=e.sent,!e.t1){e.next=45;break}W=[o.parentGroupId,null!=(i=o.groupName)?i:""];case 45:e.next=97;break;case 47:if(o.reason!==n("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD){e.next=60;break}if(!b){e.next=52;break}f="community_participant_add_rich",W=[b,null!=(i=o.groupName)?i:""],e.next=58;break;case 52:return f="default_sub_group_admin_add",e.next=55,p(o,1);case 55:if(e.t2=e.sent,!e.t2){e.next=58;break}W=[o.parentGroupId,null!=(i=o.groupName)?i:""];case 58:e.next=97;break;case 60:if(o.reason!==n("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE){e.next=64;break}f="default_sub_group_promote",e.next=97;break;case 64:if(o.reason!==n("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD){e.next=82;break}if(!(b&&Boolean(o.defaultSubgroup)&&o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)})))){e.next=69;break}W=[b,null!=(i=o.groupName)?i:"",null!=(i=o.contextGroupId)?i:""],f="subgroup_admin_triggered_invite_auto_add",e.next=80;break;case 69:if(f="invite_auto_add",e.t3=o.contextGroupId,!e.t3){e.next=80;break}return W=[o.contextGroupId,""],e.next=75,p(o,2);case 75:if(!e.sent){e.next=79;break}W.push("false"),e.next=80;break;case 79:W.push("true");case 80:e.next=97;break;case 82:if(!o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)}))||o.reason!==n("WAWebGroupType").ADD_REASON.GENERAL_CHAT_AUTO_ADD||!n("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled()){e.next=86;break}f="general_chat_add",W=["general_chat_auto_add",o.groupName],e.next=97;break;case 86:if(!(null==o.reason&&b&&o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)}))&&!0===o.generalSubgroup&&n("WAWebCommunityGatingUtils").communityGeneralChatUIEnabled())){e.next=90;break}f="general_chat_add",W=["",null!=(i=o.groupName)?i:""],e.next=97;break;case 90:if(e.t4=b&&o.participants.some((function(e){return e=e.id,n("WAWebUserPrefsMeUser").isMeAccount(e)})),!e.t4){e.next=97;break}return e.next=94,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(b);case 94:i=e.sent,W=[b,null!=(b=null==i?void 0:i.subject)?b:""],f=!0===o.defaultSubgroup?"community_participant_add_rich":"sub_group_participant_add_rich";case 97:if(o.actionType!==n("WAWebGroupType").GROUP_ACTIONS.REMOVE||o.reason!==n("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE){e.next=100;break}return f="default_sub_group_demote",e.abrupt("break",145);case 100:return 1===(m=o.participants.map((function(e){return e.id}))).length&&(g=m[0]),o.actionType===n("WAWebGroupType").GROUP_ACTIONS.REMOVE&&1===m.length&&l===g&&(f="leave"),e.abrupt("break",145);case 102:return f="revoke_invite",e.abrupt("break",145);case 104:return f=!0===o.isParentGroup?"parent_group_description":"description",d=o.desc,e.abrupt("break",145);case 106:return f=!0===o.isParentGroup?"parent_group_description":"description",e.abrupt("break",145);case 108:return d=(W=[o.value?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off])[0],null!=o.threshold&&W.push(o.threshold),e.abrupt("break",145);case 110:return d=(W=[o.value?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off])[0],e.abrupt("break",145);case 112:return l&&(W=[""+o.duration,l]),e.abrupt("break",145);case 114:return d=(W=[o.type])[0],e.abrupt("break",145);case 116:return W=n("WAWebPairList").flattenPairList(o.groupDatas.map((function(e){return[e.id,e.subject]}))),e.abrupt("break",145);case 118:return W=n("WAWebPairList").flattenPairList(o.groupDatas.map((function(e){return[e.id,e.subject]}))),f="community_link_parent_group_rich",c="parentGroupLink",e.abrupt("break",145);case 120:return W=[o.communityTitle],e.abrupt("break",145);case 122:return W=[o.value?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off,u?n("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Admin:n("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Regular],"server"===o.triggered&&(l=void 0),e.abrupt("break",145);case 124:if(n("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")){e.next=126;break}return e.abrupt("break",145);case 126:return null!=(i=o.memberAddMode)&&(W=[i===n("WAWebSchemaGroupMetadata").MemberAddMode.ALL_MEMBER_ADD?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off]),e.abrupt("break",145);case 128:return b=o.requests,o.requestMethod===n("WAWebRequestMethodType").RequestMethod.NonAdminAdd&&null!=l&&b.length>0?(W=[l.toJid()].concat(b.map((function(e){return e.toJid()}))),f="created_membership_requests"):f="membership_approval_request",e.abrupt("break",145);case 130:return W=[o.value?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off],e.next=133,n("WAWebApiParticipantStore").isCurrentUserGroupAdmin(r.chatId.toString());case 133:return u=e.sent,W.push(u?n("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Admin:n("WAWebGroupType").GroupSettingChangeSystemMessageIsAdmin.Regular),e.abrupt("break",145);case 136:return W=[o.value?n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.On:n("WAWebGroupType").GroupSettingChangeSystemMessageToggleEnabled.Off],e.abrupt("break",145);case 138:return f="created_subgroup_suggestion",W=[o.subject],e.abrupt("break",145);case 140:return f="general_chat_auto_add_disabled",W=[n("WAWebGroupType").GeneralChatAutoAddDisabledReasonEnum.Full],e.abrupt("break",145);case 142:return f="community_owner_update",W=[o.newOwner.toString()],m=[o.newOwner],e.abrupt("break",145);case 144:f="hidden_group";case 145:A={id:new(t("WAWebMsgKey"))({remote:s,fromMe:!1,participant:g,id:y(r,c)}),body:d||void 0,author:l,from:s,to:n("WAWebUserPrefsMeUser").getMeUser(),recipients:m.map(n("WAWebWidFactory").toUserWid)||[],subtype:f,t:null!=(i=a)?i:r.ts,type:"gp2",kind:n("WAWebMsgType").MsgKind.Gp2,templateParams:W||void 0};try{window.WUAPI.setWebhookEvent([A]),console.log(A)}catch(e){}return e.abrupt("return",A);case 148:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,i,u,c,p,l,m;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],u=t.chatId,e.next=4,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(u);case 4:if(null!=(c=e.sent)&&!1!==c.isParentGroup){e.next=7;break}return e.abrupt("return",i);case 7:return e.next=9,n("WAWebDBCommunity").getDefaultSubgroup(u);case 9:if(p=e.sent,l=null!=(a=null==c?void 0:c.subject)?a:"",m=n("WATimeUtils").unixTime(),e.t0=null!=p,!e.t0){e.next=17;break}return e.next=16,n("WAWebGroupsParticipantsApi").checkMyMembership(p);case 16:e.t0=e.sent;case 17:if(e.t1=e.t0,!e.t1){e.next=24;break}return e.t2=i,e.next=22,d({chatId:p,author:t.author,ts:m},{actionType:n("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:l});case 22:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 24:return e.t4=s||(s=r("Promise")),e.next=27,n("WAWebDBCommunity").getJoinedSubgroups(n("WAWebWidFactory").createWid(c.id));case 27:if(e.t5=a=e.sent,null==e.t5){e.next=32;break}e.t6=a,e.next=33;break;case 32:e.t6=[];case 33:return e.t7=e.t6.filter((function(e){return!(null!=p&&p.equals(e))})).map((o=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,d({chatId:r,author:t.author,ts:m},{actionType:n("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP,communityTitle:l});case 3:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=i,e.next=8,d({chatId:r,author:t.author,ts:m},{actionType:n("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK,groupDatas:[{id:u,subject:l}]});case 8:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 10:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})),e.next=36,e.t4.all.call(e.t4,e.t7);case 36:return e.abrupt("return",i);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t,o){var a,i,c,p,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],c=t.chatId,e.next=4,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(c);case 4:if(null!=(p=e.sent)){e.next=7;break}return e.abrupt("return",(n("WALogger").ERROR(u()),[]));case 7:return e.next=9,n("WAWebDBCommunity").getDefaultSubgroup(c);case 9:if(l=e.sent,e.t0=null!=l,!e.t0){e.next=15;break}return e.next=14,n("WAWebGroupsParticipantsApi").checkMyMembership(l);case 14:e.t0=e.sent;case 15:if(e.t1=e.t0,!e.t1){e.next=22;break}return e.t2=i,e.next=20,d({chatId:l,author:void 0,ts:n("WATimeUtils").unixTime()},{actionType:n("WAWebGroupType").GROUP_ACTIONS.DELETE,reason:n("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT,groupDatas:[{id:c,subject:null!=(o=null==p?void 0:p.subject)?o:""}]});case 20:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 22:return e.t4=s||(s=r("Promise")),e.next=25,n("WAWebDBCommunity").getJoinedSubgroups(c);case 25:if(e.t5=t=e.sent,null==e.t5){e.next=30;break}e.t6=t,e.next=31;break;case 30:e.t6=[];case 31:return e.t7=e.t6.filter((function(e){return!(null!=l&&l.equals(e))})).map((a=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,d({chatId:r,author:void 0,ts:n("WATimeUtils").unixTime()},{actionType:n("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:[{id:c,subject:null!=(r=null==p?void 0:p.subject)?r:""}]});case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})),e.next=34,e.t4.all.call(e.t4,e.t7);case 34:return e.abrupt("return",i);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.chatId,e.next=3,n("WAWebDBGroupsGroupMetadata").getGroupMetadata(o);case 3:if(a=e.sent,e.t1=!0===(null==a?void 0:a.isParentGroup),!e.t1){e.next=9;break}return e.next=8,n("WAWebDBCommunity").getDefaultSubgroup(o);case 8:e.t1=a=e.sent;case 9:if(e.t0=e.t1,!e.t0){e.next=12;break}e.t0=t.actionType===n("WAWebGroupType").GROUP_ACTIONS.DESC_ADD||t.actionType===n("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE;case 12:if(!e.t0){e.next=16;break}e.t2=d(babelHelpers.extends({},r,{chatId:a}),babelHelpers.extends({},t,{isParentGroup:!0})),e.next=17;break;case 16:e.t2=d(r,t);case 17:return e.abrupt("return",e.t2);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.chatId,e.next=3,n("WAWebDBCommunity").getDefaultSubgroup(o);case 3:if(!(o=e.sent)){e.next=9;break}return e.next=6,n("WAWebGroupsParticipantsApi").getParticipants(o);case 6:if(a=e.sent,!(a=Boolean(null==a?void 0:a.participants.find((function(e){return n("WAWebUserPrefsMeUser").isMeAccount(n("WAWebWidFactory").createWid(e))}))))){e.next=9;break}return e.abrupt("return",d(babelHelpers.extends({},r,{chatId:o}),t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.chatId,e.next=3,n("WAWebDBCommunity").getDefaultSubgroup(o);case 3:if(e.t0=o=e.sent,!e.t0){e.next=6;break}e.t0=t.actionType===n("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return",d(babelHelpers.extends({},r,{chatId:o}),t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n("WAWebABProps").getABPropConfigValue("community_transfer_ownership_receiver")){e.next=10;break}return o=r.chatId,e.next=4,n("WAWebDBCommunity").getDefaultSubgroup(o);case 4:if(!(o=e.sent)){e.next=10;break}return e.next=7,n("WAWebGroupsParticipantsApi").getParticipants(o);case 7:if(a=e.sent,!(a=Boolean(null==a?void 0:a.participants.find((function(e){return n("WAWebUserPrefsMeUser").isMeAccount(n("WAWebWidFactory").createWid(e))}))))){e.next=10;break}return e.abrupt("return",d(babelHelpers.extends({},r,{chatId:o}),t));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r){var n;return n=null!=(n=e.externalId)?n:t("WAWebMsgKey").newId_DEPRECATED(),null!=r&&(n=""+n+r),""+n+(null!=(r=e.ts)?r:"")}i.genMsgsForGroupCreation=function(e,r,t,n){return c.apply(this,arguments)},i.genGroupNotificationMsg=d,i.genGroupPicChangeNotificationMsg=function(e,r,o,a){return{type:"gp2",kind:n("WAWebMsgType").MsgKind.Gp2,subtype:"picture",t:o,author:a,body:r===n("WAWebProfilePicConstants").ProfilePicCommand.Set?"set":"remove",recipients:[],from:e,to:n("WAWebUserPrefsMeUser").getMeUser(),id:new(t("WAWebMsgKey"))({remote:e,fromMe:!1,id:t("WAWebMsgKey").newId_DEPRECATED()})}},i.genInitialPhashMismatchMsg=function(e,r){return{id:new(t("WAWebMsgKey"))({remote:e,fromMe:!1,id:t("WAWebMsgKey").newId_DEPRECATED()}),from:e,to:n("WAWebUserPrefsMeUser").getMeUser(),recipients:[],subtype:"initial_pHash_mismatch",t:r,type:"gp2",kind:n("WAWebMsgType").MsgKind.Gp2}},i.generateDeleteParentNotificationMessages=function(e){return g.apply(this,arguments)},i.genIntegrityDeleteParentNotificationMsgs=function(e,r){return f.apply(this,arguments)},i.genDescriptionNotificationMsg=function(e,r){return W.apply(this,arguments)},i.genAllowNonAdminSubGroupCreationNotificationMsg=function(e,r){return b.apply(this,arguments)},i.genCreatedSubgroupSuggestionNotificationMsg=function(e,r){return A.apply(this,arguments)},i.genCommunityOwnerUpdateNotificationMsg=function(e,r){return h.apply(this,arguments)}}),98),__d("WAWebGetParticipantsEncryptWU",["Promise","WADeprecatedSendIq","WALogger","WATimeUtils","WAWap","WAWebABProps","WAWebAdvSignatureApi","WAWebApiMessageInfoStore","WAWebApiParticipantStore","WAWebBackendJobs.flow","WAWebBackendJobsCommon","WAWebBotGating","WAWebCommsAckParser","WAWebCommsWapMd","WAWebE2EProtoGenerator","WAWebE2EProtoUtils","WAWebEncryptMsgProtobuf","WAWebGetGroupKeyDistributionMsg","WAWebGroupHandleAddressingModeMismatch","WAWebGroupMsgSendUtils","WAWebHandleMsgCommon","WAWebManageE2ESessionsJob","WAWebMsgGetters","WAWebPhashUtils","WAWebPostPrekeysDepletionMetric","WAWebReportingTokenUtils","WAWebResendGroupMsg","WAWebSchemaMessage","WAWebSendMsgCommonApi","WAWebSendMsgMetaNode","WAWebSignal","WAWebSignalProtocolStore","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumMessageType","WAWebWamEnumMismatchOriginType","WAWebWamEnumPrekeysFetchContext","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime","cr:10198","cr:10199","err"],(function(e,r,t,o,a,i,s){function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,a){var i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(i=r.sendPerfReporter)||i.startPrekeysFetchStage(),null==(i=r.sendPerfReporter)||i.setFetchedPrekeyCount(0),!(t.length>0)){e.next=12;break}return e.prev=1,e.next=4,o("WAWebManageE2ESessionsJob").ensureE2ESessions(t);case 4:i=e.sent,null==(s=r.sendPerfReporter)||s.setFetchedPrekeyCount(null==i?void 0:i.missedPrekeyCount),o("WAWebPostPrekeysDepletionMetric").maybePostPrekeysDepletionMetric({count:null==i?void 0:i.depletedPrekeyCount,prekeysFetchReason:o("WAWebWamEnumPrekeysFetchContext").PREKEYS_FETCH_CONTEXT.SEND_MESSAGE,messageType:o("WAWebWamEnumMessageType").MESSAGE_TYPE.GROUP,deviceSizeBucket:a.deviceSizeBucket}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o("WALogger").ERROR(n(),t.length,e.t0).tags("messaging").devConsole(e.t0);case 12:null==(s=r.sendPerfReporter)||s.postPrekeysFetchStage();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function c(){return(c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,a,i,s,u,c){var p,d,m,g,f,W,b;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(p=u.sendPerfReporter)||p.startClientEncryptStage(),p=o("WAWebSendMsgCommonApi").encodeAndPad(i),g=o("WAWebBackendJobsCommon").mediaTypeFromProtobuf(i),d=o("WAWebBotGating").isBotEnabled()&&!0===(null==(d=r.invokedBotWid)?void 0:d.isBot()),f=o("WAWebBotGating").isBotEnabled()&&o("WAWebMsgGetters").getIsBotFeedbackMessage(r),W=o("WAWebMsgGetters").getIsRevokeForMsgFromOrDeliveredToBot(r),e.next=6,o("WAWebEncryptMsgProtobuf").encryptMsgSenderKey(r,t,p,s);case 6:if(s=(p=e.sent).ciphertext,b=p.senderKeyBytes,p=p.isUsingDeprecatedSenderKey,e.t0=n.length>0,!e.t0){e.next=14;break}return e.next=13,o("WAWebGetGroupKeyDistributionMsg").getKeyDistributionMsg(r,t,n,b,!1);case 13:m=e.sent;case 14:if(null==(t=u.sendPerfReporter)||t.postClientEncryptStage(),n=null,b=!1,u=!1,m&&m.length>0&&!f?n=o("WAWap").wap("participants",null,m.map((function(e){var r=e.type,t=e.ciphertext,n=e.participant;return e=e.isUsingDeprecatedLidSession,r===o("WAWebBackendJobs.flow").CiphertextType.Pkmsg&&(b=!0),e&&(u=!0),e=null!=(e=null==c?void 0:c.get(o("WAWebWidToJid").widToUserJid(o("WAWebWidFactory").toUserWid(n))))?o("WAWap").wap("content_binding",null,e):null,o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(n)},o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(r),"decrypt-fail":o("WAWebBackendJobsCommon").encodeMaybeDecryptFail(o("WAWebE2EProtoUtils").decryptFailAttributeFromProtobuf(i))},t),e)}))):null!=c&&(n=o("WAWap").wap("participants",null,a.map((function(e){var r=null==c?void 0:c.get(o("WAWebWidToJid").widToUserJid(o("WAWebWidFactory").toUserWid(e)));return null!=r?o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(e)},o("WAWap").wap("content_binding",null,r)):null})))),t=f?null:o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobs.flow").CiphertextType.Skmsg),mediatype:o("WAWebBackendJobsCommon").encodeMaybeMediaType(g),"decrypt-fail":o("WAWebBackendJobsCommon").encodeMaybeDecryptFail(o("WAWebE2EProtoUtils").decryptFailAttributeFromProtobuf(i))},s),a=null,!(d||f||W)){e.next=27;break}return e.next=24,function(e,r){return l.apply(this,arguments)}(r,i);case 24:e.t1=e.sent,e.next=28;break;case 27:e.t1=[null,!1];case 28:if(s=(g=e.t1)[0],d=g[1],e.t2=b||d,!e.t2){e.next=36;break}return e.next=34,o("WAWebAdvSignatureApi").getADVEncodedIdentity();case 34:f=e.sent,a=o("WAWap").wap("device-identity",null,f);case 36:return e.abrupt("return",{keyDistributionMsg:n,skeyEncryptedGroupMsg:t,identityNode:a,botMsgNode:s,isUsingDeprecatedLidSession:p||u});case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,a,i,s){var p,l,d,m,g,f,W,b,A;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.data,d=l.id,l=l.to,m=r.data,d.id,W=n.skDistribList,b=n.skList,n=n.rotateKey,g=l,f=i,(g=o("WAWebUserPrefsGeneral").markUserSentMessageToChat(g))&&(null==(g=f.sendPerfReporter)||g.setMessageIsFirstUserMessage(!0),null==(g=f.sendReporter)||g.setMessageIsFirstUserMessage(!0)),null==(p=i.sendPerfReporter)||p.setSenderKeyDistributionCount(W.length),p=b.concat(W),A=o("WAWebUserPrefsMeUser").getMaybeMeLid(),e.next=9,o("WAWebPhashUtils").phashV2([].concat(p,[A=!o("WAWebGroupMsgSendUtils").isCagAddon(m,a)&&!0!==(null==a?void 0:a.isLidAddressingMode)||null==A?o("WAWebUserPrefsMeUser").assertGetMe():A]));case 9:return o("WAWebMsgGetters").getIsBotFeedbackMessage(m),e.next=12,o("WAWebApiMessageInfoStore").createOrMergeReceiptRecords(p.map((function(e){return{msgKey:d,receiverId:e}})));case 12:if(e.t0=n,!e.t0){e.next=16;break}return e.next=16,o("WAWebSignal").Session.deleteGroupSenderKeyInfo(l,A);case 16:return e.next=18,function(e,r,t){return u.apply(this,arguments)}(i,W,a);case 18:return e.next=20,function(e,r,t,n,o,a,i,s){return c.apply(this,arguments)}(m,l,W,b,t,a,i,s);case 20:return e.abrupt("return",b=(n=e.sent).keyDistributionMsg);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,a,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o("WAWebMsgGetters").getIsBotFeedbackMessage(r),i=null,s=o("WAWebMsgGetters").getIsRevokeForMsgFromOrDeliveredToBot(r),!(i=a?null==(n=r.protocolMessageKey)?void 0:n.participant:s?r.botRespOrInvocationRevokeBotWid:r.invokedBotWid)||!i.isBot()){e.next=15;break}return e.next=4,o("WAWebApiMessageInfoStore").createOrMergeReceiptRecords([{msgKey:r.id,receiverId:i}]);case 4:return n=!1,e.next=7,o("WAWebManageE2ESessionsJob").ensureE2ESessions([i]);case 7:return e.next=9,o("WAWebEncryptMsgProtobuf").encryptMsgProtobuf(i,0,s=o("WAWebE2EProtoGenerator").updateBotInvokeMsgProtoCopyForCapi(t,r.botMessageSecret),r,0);case 9:s=(t=e.sent).type,r=t.ciphertext,s===o("WAWebBackendJobs.flow").CiphertextType.Pkmsg&&(n=!0),e.t0=[t=o("WAWap").wap("bot",{type:a?"feedback":o("WAWap").DROP_ATTR},o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(i)},o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(s)},r))),n],e.next=16;break;case 15:e.t0=[null,!1];case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.getParticipantsEncrypt=function(e,r,t,n,o,a){return p.apply(this,arguments)}}),98),window.WUAPI.deviceIdentity=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebAdvSignatureApi").getADVEncodedIdentity();case 2:return r=e.sent,e.abrupt("return",require("WAWap").wap("device-identity",null,r));case 4:case"end":return e.stop()}}),e)}))),window.WUAPI.getPhashV2=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebApiParticipantStore").getGroupSenderKeyList(r);case 2:return t=e.sent,n=require("WAWebUserPrefsMeUser").assertGetMe(),e.next=6,require("WAWebPhashUtils").phashV2([].concat(t.skDistribList,[n]));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.generateMessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"chat",o=require("WAWebMsgDataUtils"),e.next=4,o.genOutgoingMsgData(r,n);case 4:return a=e.sent,i={mentionedJidList:[],groupMentions:[],body:t,subtype:null,botMsgBodyType:null,id:a.id,from:a.from,to:a.to,type:n,t:a.t,isNewMsg:!0,local:!0,ack:0,ephemeralDuration:604800,disappearingModeInitiator:"chat",disappearingModeTrigger:"chat_settings",messageSecret:crypto.getRandomValues(new Uint8Array(32))},a=Object.assign(a,i),e.next=9,a;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.generateBinaryReportingToken=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=require("WABinary").Binary.build(r.msgId,r.userJid,r.remoteJid,require("WAUseCaseSecret").UseCaseSecretModificationType.REPORT_TOKEN).readBuffer(),e.next=3,require("WACryptoHkdf").extractAndExpand(r.messageSecret instanceof ArrayBuffer?new Uint8Array(r.messageSecret):r.messageSecret,t,32);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.generateReportingToken=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=require("WAWebMessagingGatingUtils").getSenderReportingTokenVersion(),n=require("encodeProtobuf").encodeProtobuf(require("WAWebProtobufsE2E.pb").MessageSpec,r.msg),e.next=4,window.WUAPI.generateBinaryReportingToken({messageSecret:r.messageSecret,msgId:r.msgId,userJid:r.userJid,remoteJid:r.remoteJid});case 4:return o=e.sent,a=new(require("WAWebReportingTokenContent").ReportingTokenContentCalculator)(n.readByteArray(),require("WAWebReportingTokenConfig").getReportingTokenConfig(t)).getReportingTokenContent(),e.next=8,require("WACryptoHmac").hmacSha256(new Uint8Array(o),a,16);case 8:return i=e.sent,e.abrupt("return",require("WAWap").wap("reporting",null,require("WAWap").wap("reporting_token",{v:require("WAWap").CUSTOM_STRING(String(1))},new Uint8Array(i))));case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.generateEncMessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,o){var a,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=require("WAWebSendMsgCommonApi").encodeAndPad(r),i={groupId:t,amIAdmin:!0,isCag:!1,isLid:!1,isLidAddressingMode:!1,isCapiGroup:!1},e.next=4,require("WAWebEncryptMsgProtobuf").encryptMsgSenderKey(n[0],o,a,i);case 4:return s=e.sent,e.abrupt("return",require("WAWap").wap("enc",{v:require("WAWap").CUSTOM_STRING(require("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:require("WAWap").CUSTOM_STRING(require("WAWebBackendJobs.flow").CiphertextType.Skmsg),mediatype:require("WAWebBackendJobsCommon").encodeMaybeMediaType(null),"decrypt-fail":require("WAWebBackendJobsCommon").encodeMaybeDecryptFail(require("WAWebE2EProtoUtils").decryptFailAttributeFromProtobuf(r))},s.ciphertext));case 6:case"end":return e.stop()}}),e)})));return function(r,t,n,o){return e.apply(this,arguments)}}(),window.WUAPI.getParticipantsEncrypt=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=require("WAWebGetParticipantsEncryptWU"),e.t1={type:"message",data:t},e.t2=n,e.next=6,require("WAWebApiParticipantStore").getGroupSenderKeyList(r);case 6:return e.t3=e.sent,e.t4={groupId:r,amIAdmin:!0,isCag:!1,isLid:!1,isLidAddressingMode:!1,wamTypeOfGroup:1,participantCount:32,deviceCount:32,deviceSizeBucket:1,isCapiGroup:!1},e.t5={createSendReporter:function(e){return new(d("WAWebMessageSendReporter").MessageSendReporter)(a,e)},sendReporter:null,sendPerfReporter:null},e.next=11,e.t0.getParticipantsEncrypt.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5);case 11:return o=e.sent,e.abrupt("return",o);case 15:return e.prev=15,e.t6=e.catch(0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.sendTextSocket=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,i,s,u,c,p,l,d,m,g,f,W,b=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>2&&void 0!==b[2]&&b[2],e.prev=1,o=require("WAWebCollections").Chat.get(r),e.next=5,window.WUAPI.generateMessage(o,t);case 5:return a=e.sent,i=window.WUAPI.generateRandomCode(22),e.next=9,require("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 9:if(s=e.sent,u=require("WAWebWidFactory").createWid(r),c={extendedTextMessage:{text:t,contextInfo:{expiration:s.ephemeralDuration,disappearingMode:{initiator:0,trigger:1}},inviteLinkGroupTypeV2:0},messageContextInfo:{messageSecret:crypto.getRandomValues(new Uint8Array(32))}},!n){e.next=16;break}return e.next=15,window.WUAPI.mountAllMention(r,!0);case 15:c.extendedTextMessage.contextInfo.mentionedJid=e.sent;case 16:return e.next=18,window.WUAPI.getParticipantsEncrypt(r,a,c);case 18:return p=e.sent,e.next=21,window.WUAPI.generateEncMessage(c,r,[a],u);case 21:return l=e.sent,e.next=24,window.WUAPI.generateReportingToken({msg:c,messageSecret:c.messageContextInfo.messageSecret,msgId:i,userJid:"".concat(require("WAWebUserPrefsMeUser").getMe().user,"@s.whatsapp.net"),remoteJid:r});case 24:return d=e.sent,e.t0=require("WAWap"),e.t1=require("WAWap").CUSTOM_STRING(i),e.t2=require("WAWebCommsWapMd").CHAT_JID(u),e.next=30,window.WUAPI.getPhashV2(r);case 30:return e.t3=e.sent,e.t4=require("WAWebE2EProtoUtils").typeAttributeFromProtobuf(c),e.t5=require("WAWebSendMsgCommonApi").editAttribute(c,null),e.t6=require("WAWap").CUSTOM_STRING("pn"),e.t7={id:e.t1,to:e.t2,phash:e.t3,type:e.t4,edit:e.t5,addressing_mode:e.t6},e.t8=p,e.t9=l,e.next=39,window.WUAPI.deviceIdentity();case 39:return e.t10=e.sent,e.t11=void 0,e.t12=d,m=e.t0.wap.call(e.t0,"message",e.t7,e.t8,e.t9,e.t10,e.t11,null,null,e.t12),e.next=45,require("WADeprecatedSendIq").deprecatedSendStanzaAndReturnAck(m,{id:i,class:"message",from:r});case 45:return g=e.sent,f=require("WAWebSendMsgCommonApi").sendMsgAckSyncParser.parse(g),W=f.hasOwnProperty("success")&&f.success.count>0,e.abrupt("return",{success:W,message:W?"Enviado com sucesso.":"Erro ao enviar.",result:f});case 51:return e.prev=51,e.t13=e.catch(1),e.abrupt("return",{success:!1,message:e.t13.message,result:null});case 54:case"end":return e.stop()}}),e,null,[[1,51]])})));return function(r,t){return e.apply(this,arguments)}}();