"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof A?r:A,s=Object.create(a.prototype),i=new G(n||[]);return o(s,"_invoke",{value:x(e,t,i)}),s}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",W="completed",f={};function A(){}function h(){}function b(){}var v={};c(v,s,(function(){return this}));var w=Object.getPrototypeOf,y=w&&w(w(_([])));y&&y!==t&&n.call(y,s)&&(v=y);var P=b.prototype=A.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,s,i){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,s,i)}),(function(e){t("throw",e,s,i)})):r.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return t("throw",e,s,i)}))}i(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,s){if(o===g)throw Error("Generator is already running");if(o===W){if("throw"===a)throw s;return{value:e,done:!0}}for(n.method=a,n.arg=s;;){var i=n.delegate;if(i){var u=C(i,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=W,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?W:m,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=W,n.method="throw",n.arg=c.arg)}}}function C(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,C(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var s=a.arg;return s?s.done?(t[r.resultName]=s.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function M(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function E(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function _(r){if(r||""===r){var t=r[s];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return h.prototype=b,o(P,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=c(b,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===h||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},r.awrap=function(e){return{__await:e}},S(R.prototype),c(R.prototype,i,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var s=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(P),c(P,u,"Generator"),c(P,s,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=_,G.prototype={constructor:G,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return i.type="throw",i.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),f},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),E(t),f}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;E(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:_(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),f}},r}function asyncGeneratorStep(e,r,t,n,o,a,s){try{var i=e[a](s),u=i.value}catch(e){return void t(e)}i.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function s(e){asyncGeneratorStep(a,n,o,s,i,"next",e)}function i(e){asyncGeneratorStep(a,n,o,s,i,"throw",e)}s(void 0)}))}}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,r,t){e[r]=t.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function p(e,r,t,n){var a=r&&r.prototype instanceof A?r:A,s=Object.create(a.prototype),i=new G(n||[]);return o(s,"_invoke",{value:x(e,t,i)}),s}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var d="suspendedStart",m="suspendedYield",g="executing",W="completed",f={};function A(){}function h(){}function b(){}var v={};c(v,s,(function(){return this}));var w=Object.getPrototypeOf,y=w&&w(w(_([])));y&&y!==t&&n.call(y,s)&&(v=y);var P=b.prototype=A.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function R(e,r){function t(o,a,s,i){var u=l(e[o],e,a);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==_typeof(p)&&n.call(p,"__await")?r.resolve(p.__await).then((function(e){t("next",e,s,i)}),(function(e){t("throw",e,s,i)})):r.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return t("throw",e,s,i)}))}i(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new r((function(r,o){t(e,n,r,o)}))}return a=a?a.then(o,o):o()}})}function x(r,t,n){var o=d;return function(a,s){if(o===g)throw Error("Generator is already running");if(o===W){if("throw"===a)throw s;return{value:e,done:!0}}for(n.method=a,n.arg=s;;){var i=n.delegate;if(i){var u=C(i,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=W,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=l(r,t,n);if("normal"===c.type){if(o=n.done?W:m,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=W,n.method="throw",n.arg=c.arg)}}}function C(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,C(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(o,r.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var s=a.arg;return s?s.done?(t[r.resultName]=s.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function M(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function E(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function _(r){if(r||""===r){var t=r[s];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function t(){for(;++o<r.length;)if(n.call(r,o))return t.value=r[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(_typeof(r)+" is not iterable")}return h.prototype=b,o(P,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=c(b,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===h||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},r.awrap=function(e){return{__await:e}},S(R.prototype),c(R.prototype,i,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var s=new R(p(e,t,n,o),a);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(P),c(P,u,"Generator"),c(P,s,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=_,G.prototype={constructor:G,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function o(n,o){return i.type="throw",i.arg=r,t.next=n,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),f},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),E(t),f}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;E(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:_(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),f}},r}window.WUAPI={db:null,newJobs:!1,hasDeletemsg:!1,isConnected:!1,qtdMsgSend:0,PerformanceEventTiming:{},inUse:!0,participantsEncrypt:{}},window.WUAPI.webhookEvents={},window.WUAPI.startTime=new Date,window.WUAPI.startTimeAux=new Date,window.WUAPI.timeDeleteContact=new Date,window.WUAPI.currentDate=new Date,window.WUAPI.isClearContacts=!1,window.WUAPI.filesBackup={},window.currentQrCode=null,window.WUAPI.findGroupInfo=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.WUAPI.getGroupMetadata(r);case 3:return t=e.sent,e.next=6,window.WUAPI.getGroupParticipants(r);case 6:return n=e.sent,t.participants=n,e.next=10,window.WUAPI.getGroupInviteLink(r);case 10:return t.inviteCode=e.sent.link,e.abrupt("return",{success:!0,message:"Grupo encontrado com sucesso.",metadata:t});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar as informações do grupo",error:e.t0.message,groupId:r});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupMetadata=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("WAWebSchemaParticipant").getParticipantTable().get(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.setGroups=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.WUAPI.groups=[],e.prev=1,e.next=4,require("WAWebSchemaChat").getChatTable().all();case 4:return r=e.sent,e.next=7,Promise.all(r.map(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.WUAPI.getGroupMetadata(r.id);case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,window.WUAPI.getGroupParticipants(r.id);case 6:n=e.sent,t.participants=n,window.WUAPI.groups.push(t);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Erro ao setar os grupos:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),window.WUAPI.getAllGroups=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.WUAPI.setGroups();case 3:return e.abrupt("return",{success:!0,groups:window.WUAPI.groups,message:"Grupos encontrados com sucesso"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar os grupos",error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),window.WUAPI.setGroupSubject=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WASmaxGroupsSetSubjectRPC").sendSetSubjectRPC({iqTo:r,subjectElementValue:t});case 3:return n=e.sent,o="SetSubjectResponseSuccess"===n.name,e.abrupt("return",{success:o,message:o?"Alterado com sucesso":"Erro ao alterar",response:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setGroupDescription=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebDBGroupsGroupMetadata").getGroupMetadata(r);case 3:return n=e.sent,e.next=6,require("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:{bodyElementValue:t||" "},iqTo:r,descriptionId:require("WAHex").randomHex(8),descriptionPrev:n.descId,hasDescriptionDeleteTrue:!1});case 6:return o=e.sent,a="SetDescriptionResponseSuccess"==o.name,e.abrupt("return",{success:a,message:a?"Alterado com sucesso":"Erro ao alterar",response:o});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setGroupProperty=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,o={},t="".concat(t),e.t0=t,e.next="announcement"===e.t0?6:"ephemeral"===e.t0?8:"restrict"===e.t0?10:12;break;case 6:return o={hasAnnouncement:n,hasNotAnnouncement:!n,iqTo:r},e.abrupt("break",12);case 8:return o={hasNotEphemeral:!0,iqTo:r},e.abrupt("break",12);case 10:return o={hasLocked:n,hasUnlocked:!n,iqTo:r},e.abrupt("break",12);case 12:return"ephemeral"==t&&n&&(o={hasNotEphemeral:!1,ephemeralArgs:{ephemeralExpiration:604800},iqTo:r}),e.next=15,require("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(o);case 15:return a=e.sent,s="SetPropertyResponseSuccess"==a.name,e.abrupt("return",{success:s,message:s?"Alterado com sucesso":"Erro ao alterar",response:a});case 20:return e.prev=20,e.t1=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar",error:e.t1.message});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.getChat=function(e){try{var r=require("WAWebWidFactory"),t=require("WAWebCollections"),n=t.Chat.get(e);return n||(n=t.Chat.gadd(r.createWid(e),{})),n}catch(e){return}},window.WUAPI.markComposing=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.WUAPI.getChat(r),e.next=4,t.presence.subscribe();case 4:return e.next=6,require("WAWebPresenceChatAction").markComposing(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Erro ao marcar como digitando",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.markPaused=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.WUAPI.getChat(r),e.next=4,t.presence.subscribe();case 4:require("WAWebPresenceChatAction").markPaused(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Erro ao pausar",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getLinkPreview=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,s,i,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql"),n=/(https?:\/\/[^\s]+)/,o=r.match(n)[0],a={input:{url:o}},s=require("WALinkify").findLink(o),e.next=8,require("WAWebLinkPreviewChatAction").getLinkPreview(s);case 8:if(!(i=e.sent)||!i.data){e.next=11;break}return e.abrupt("return",i.data);case 11:return u=require("WAWebMexNativeClient"),e.next=14,u.fetchQuery(t,a);case 14:return c=e.sent,p=c.xwa2_newsletter_link_preview,e.abrupt("return",{matchedText:o,title:p.title,description:p.description,richPreviewType:0,doNotPlayInline:!1,isLoading:!1,thumbnail:p.thumb_data,thumbnailDirectPath:null,thumbnailSha256:null,thumbnailHQ:p.thumb_data,thumbnailHeight:1024,thumbnailWidth:1024,thumbnailEncSha256:null,mediaKeyTimestamp:null,mediaKey:null});case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{matchedText:r,title:r,description:r,richPreviewType:0,doNotPlayInline:!0,isLoading:!1,thumbnail:void 0});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.mountAllMention=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,s,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]&&i[1],e.next=3,window.WUAPI.getGroupParticipants(r);case 3:return n=e.sent,o=require("WAWebWidFactory"),a=[],s=0,n.participants.forEach(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s<=600&&(a.push(t?r.replace("@c.us","@s.whatsapp.net"):o.createWid(r)),s++);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sendText=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s,i,u,c,p=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.length>2&&void 0!==p[2]&&p[2],e.prev=1,o=performance.now(),a=require("WAWebSendTextMsgChatAction"),window.WUAPI.qtdMsgSend++,s=window.WUAPI.getChat(r),window.WUAPI.markComposing(r),r.includes("@g.us"),e.next=14;break;case 10:i=e.sent,u=i.success,e.next=31;break;case 14:if(e.t0=a,e.t1=s,e.t2=t,!n){e.next=23;break}return e.next=20,window.WUAPI.mountAllMention(r);case 20:e.t3=e.sent,e.next=24;break;case 23:e.t3=[];case 24:return e.t4=e.t3,e.t5=[],e.t6={linkPreview:null,mentionedJidList:e.t4,groupMentions:e.t5,botMsgBodyType:null},e.next=29,e.t0.sendTextMsgToChat.call(e.t0,e.t1,e.t2,e.t6);case 29:i=e.sent,u="OK"==i.messageSendResult;case 31:return window.WUAPI.markPaused(r),c=performance.now(),e.abrupt("return",{success:u,message:u?"Enviado com sucesso":"Erro ao enviar a mensagem",chatId:r,time:window.WUAPI.setPerformance(r,o,c,"sendText"),response:i});case 36:return e.prev=36,e.t7=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao enviar catch: ".concat(e.t7.message),chatId:r,error:e.t7.message});case 39:case"end":return e.stop()}}),e,null,[[1,36]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.sendLinkPreview=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,s,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=require("WAWebSendTextMsgChatAction"),e.next=4,window.WUAPI.getLinkPreview(t);case 4:return a=e.sent,window.WUAPI.markComposing(r),e.next=8,o.sendTextMsgToChat(window.WUAPI.createProxyChat(r),t,{linkPreview:a,mentionedJidList:[],groupMentions:[],botMsgBodyType:null});case 8:return s=e.sent,i="OK"==s.messageSendResult,window.WUAPI.markPaused(r),e.abrupt("return",{success:i,message:i?"Enviado com sucesso":"Erro ao enviar o link",chatId:r,response:s});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar catch: ".concat(e.t0.message),error:e.t0.message,chatId:r,response:null});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.getGroupInviteLink=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebMexFetchGroupInviteCodeJob").fetchMexGroupInviteCode(r);case 3:return t=e.sent,n=null!=t,e.abrupt("return",{success:n,message:n?"Link gerado com sucesso":"Erro ao gerar link",link:"https://chat.whatsapp.com/".concat(t)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar catch",error:e.t0,groupId:r});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getConfigsSend=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s,i,u,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",o=c.length>3?c[3]:void 0,a=window.WUAPI.getChat(r),s=require("WAWebMsgDataUtils"),e.next=6,s.genOutgoingMsgData(a,o.type);case 6:return i=e.sent,u=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({"image/jpeg":"image","image/png":"image","image/gif":"gif","video/webm":"video","video/mp4":"video","audio/ogg":"ogg","audio/mpeg":"mp3","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/zip":"zip","application/pdf":"pdf"},"image/gif","gif"),"text/plain","txt"),"text/csv","csv"),"image/webp","webp"),"video/quicktime","mp4"),i.body=t._mediaData.preview,i.filehash=t._mediaData.filehash,i.type=u[o.type],i.agentId=void 0,i.isNewMsg=!0,i.local=!0,i.ack=0,i.caption=n,i.mentionedJidList=[],i.groupMentions=[],i.ephemeralSettingTimestamp=null,i.disappearingModeInitiator="chat",i.size=o.size,i.isVcardOverMmsDocument=!1,i.filename=void 0,i.mimetype=o.type,i.isViewOnce=!1,i.ctwaContext=void 0,i.ephemeralDuration=604800,i.footer=void 0,i.forwardedFromWeb=void 0,i.forwardedNewsletterMessageInfo=void 0,i.forwardingScore=void 0,i.gifAttribution=void 0,i.height=187,i.width=198,i.streamingSidecar=void 0,i.isAvatar=void 0,i.isForwarded=void 0,i.isGif=void 0,i.messageSecret=void 0,i.pageCount=void 0,i.quotedMsg=void 0,i.quotedParticipant=void 0,i.quotedRemoteJid=void 0,i.quotedStanzaID=void 0,i.staticUrl="",i.subtype=void 0,e.abrupt("return",i);case 47:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.sendFile=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,o){var a,s,i,u,c,p,l,d,m,g,W;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=performance.now(),s=window.WUAPI.getFile(n,o),e.next=5,require("WAWebMediaOpaqueData").createFromData(s,s.type);case 5:return i=e.sent,window.WUAPI.qtdMsgSend++,e.next=9,require("WAWebMedia").prepRawMedia(i,{});case 9:return u=e.sent,(c=u._mediaData).set({mediaPrep:u}),p=window.WUAPI.getChat(r),window.WUAPI.markComposing(r),e.next=16,window.WUAPI.getConfigsSend(r,u,t,s);case 16:return l=e.sent,d=require("WAWebMsgCollection").MsgCollection.add(l),e.next=20,c.mediaPrep.sendToChat(p,d[0]);case 20:return m=e.sent,g="OK"==m.messageSendResult,window.WUAPI.removeInputFile(n),W=performance.now(),window.WUAPI.markPaused(r),e.abrupt("return",{success:g,message:g?"Arquivo enviado com sucesso":"Erro ao enviar o arquivo",response:m,time:window.WUAPI.setPerformance(r,a,W,"sendFile"),chatId:r});case 28:return e.prev=28,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar o arquivo a",error:e.t0.message,chatId:r});case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(r,t,n,o){return e.apply(this,arguments)}}(),window.WUAPI.createGroup=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a,s,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:[],e.prev=1,n=require("WAWebCreateGroupAction"),o=null,a={title:r,ephemeralDuration:0,restrict:!1,announce:!1,membershipApprovalMode:!1,memberAddMode:!1},e.next=7,window.WUAPI.checkConnection();case 7:if(window.WUAPI.isConnected){e.next=9;break}return e.abrupt("return",{success:!1,message:"Instância não está conectada.",error:"Não conectado"});case 9:return e.next=11,n.createGroup(a,t);case 11:return o=e.sent,s="g.us"==o.server,e.abrupt("return",{success:s,message:s?"Grupo criado com sucesso":"Erro ao criar grupo",metadata:{id:o._serialized}});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao criar grupo",error:e.t0.message,response:o||null});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sleep=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getQrCodeBkp=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,t,n,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=4e4,t=1e3,n=0,o=null;case 4:if(!(n<r)){e.next=25;break}if(e.prev=5,a=document.querySelector("._akau"),s=a.getAttribute("data-ref"),window.currentQrCode=s,null===s){e.next=11;break}return e.abrupt("return",{success:!0,qrCode:s,firsQrcode:o,message:"QR gerado com sucesso"});case 11:return e.next=13,window.WUAPI.sleep(t);case 13:if(n+=t,o=s,null===s){e.next=19;break}return require("WAWebCmd").Cmd.refreshQR(),e.next=19,window.WUAPI.sleep(2e3);case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(5);case 23:e.next=4;break;case 25:return e.abrupt("return",{success:!1,error:"QR code não encontrado em 30 segundos",qrCode:null});case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),window.WUAPI.disableAutoDownloads=function(){try{var e=require("WAWebUserPrefsGeneral");return e.setAutoDownloadPhotos(!1),e.setAutoDownloadAudio(!1),e.setAutoDownloadVideos(!1),e.setAutoDownloadDocuments(!1),!0}catch(e){}},window.WUAPI.addInputFile=function(e){var r=document.createElement("input");return r.type="file",r.name="".concat(e),r.dataset["".concat(e)]="".concat(e),r.dataset.namedata="".concat(e),r.style.display="none",document.body.appendChild(r),{success:!0,message:"Input adicionado com sucesso"}},window.WUAPI.removeInputFile=function(e){try{return document.querySelector(e).remove(),{success:!0,message:"Input removido com sucesso"}}catch(e){return{success:!0,message:"Input removido com sucesso"}}},window.WUAPI.checkConnection=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=require("WAWebStreamModel"),t=r.Stream.__x_displayInfo,n="NORMAL"==t,window.WUAPI.isConnected=n,e.abrupt("return",{success:n,message:n?"Conexão OK":"Erro na conexão",status:t});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro na conexão",error:e.t0.message,status:null});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),window.WUAPI.sendPoll=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,s,i,u=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:0,e.prev=1,a={name:t,options:n,selectableOptionsCount:o},e.next=5,require("WAWebPollsSendPollCreationMsgAction").sendPollCreation({poll:a,chat:window.WUAPI.getChat(r),quotedMsg:void 0});case 5:return s=e.sent,i="OK"===s[1].messageSendResult,e.abrupt("return",{success:i,message:i?"Enquete enviada com sucesso":"Erro ao enviar enquete",response:s[1],chatId:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao enviar enquete",error:e.t0.message,chatId:r});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.sendAudio=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,s,i,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=window.WUAPI.getFile(t,n),a=window.WUAPI.getChat(r),s=new(s=require("WAWebAttachMediaCollection"))({chatParticipantCount:a.getParticipantCount()}),window.WUAPI.qtdMsgSend++,i=[{file:o,filename:"".concat(window.WUAPI.generateRandomCode(10),".ogg"),mimetype:"audio/ogg",type:"audio"}],e.next=9,s.processAttachments(i,1,a);case 9:return(u=s.getModelsArray()[0]).mediaPrep._mediaData.type="ptt",e.next=13,u.mediaPrep.sendToChat(a,{});case 13:return c=e.sent,p="OK"===c.messageSendResult,window.WUAPI.removeInputFile(t),e.abrupt("return",{success:p,message:p?"Áudio enviado com sucesso":"Erro ao enviar áudio",response:c,chatId:r});case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar áudio",error:e.t0.message,chatId:r});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.sendFileBkp=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,o){var a,s,i,u,c,p,l,d,m,g;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=performance.now(),s=window.WUAPI.getFile(n,o),i=window.WUAPI.getChat(r),u=new(u=require("WAWebAttachMediaCollection"))({chatParticipantCount:i.getParticipantCount()}),c=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({"image/jpeg":"image","image/png":"image","image/gif":"gif","video/webm":"video","video/mp4":"video","audio/ogg":"audio","audio/mpeg":"audio","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document","application/vnd.ms-excel":"document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"document","application/zip":"document","application/pdf":"document"},"image/gif","image"),"text/plain","document"),"text/csv","document"),"image/webp","video"),"video/quicktime","video"),window.WUAPI.qtdMsgSend++,p=[{file:s,filename:s.name,mimetype:s.type,type:c[s.type]}],e.next=11,u.processAttachments(p,1,i);case 11:return l=u.getModelsArray()[0],e.next=14,l.mediaPrep.sendToChat(i,{caption:t});case 14:return d=e.sent,m="OK"===d.messageSendResult,window.WUAPI.removeInputFile(n),g=performance.now(),window.WUAPI.setPerformance(r,a,g,"sendFileBkp"),e.abrupt("return",{success:m,message:m?"Arquivo enviado com sucesso":"Erro ao enviar o arquivo",response:d,chatId:r});case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar arquivo",error:e.t0.message,chatId:r});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r,t,n,o){return e.apply(this,arguments)}}(),window.WUAPI.getPhoneNumber=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=require("WAWebUserPrefsMeUser").getMe().user,e.abrupt("return",{success:!0,phoneNumber:r,message:"Número de telefone encontrado"});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar o número de telefone",error:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),window.WUAPI.startSession=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",{success:!0,message:"Sessão iniciada com sucesso"});case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao iniciar a sessão",error:e.t0.message});case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.promoteParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]&&s[2],e.prev=1,o=!1,a=null,n){e.next=11;break}return e.next=7,require("WASmaxGroupsPromoteDemoteRPC").sendPromoteDemoteRPC({promoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 7:a=e.sent,o=a.value.promoteParticipant.length>=1&&null==a.value.promoteParticipant[0].error||0==a.value.promoteParticipant.length,e.next=15;break;case 11:return e.next=13,require("WASmaxGroupsPromoteDemoteAdminRPC").sendPromoteDemoteAdminRPC({promoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 13:a=e.sent,o=a.value.adminParticipant.length>=1&&null==a.value.adminParticipant[0].error||0==a.value.adminParticipant.length;case 15:return e.abrupt("return",{success:o,message:o?"Participante promovido com sucesso":"Erro ao promover o participante",isCommunity:n,response:a,number:t,groupId:r});case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{success:o,message:"Erro ao promover o participante",error:e.t0.message,isCommunity:n,number:t,groupId:r});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.demoteParticipants=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]&&s[2],e.prev=1,o=!1,a=null,n){e.next=11;break}return e.next=7,require("WASmaxGroupsPromoteDemoteRPC").sendPromoteDemoteRPC({demoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 7:a=e.sent,o=a.value.demoteParticipant.length>=1||null==a.value.demoteParticipant[0].error||0==a.value.demoteParticipant.length,e.next=15;break;case 11:return e.next=13,require("WASmaxGroupsPromoteDemoteAdminRPC").sendPromoteDemoteAdminRPC({demoteArgs:{participantArgs:[{participantJid:t}]},iqTo:r});case 13:a=e.sent,o=a.value.adminParticipant.length>=1&&null==a.value.adminParticipant[0].error||0==a.value.adminParticipant.length;case 15:return e.abrupt("return",{success:o,message:o?"Participante despromovido com sucesso":"Erro ao despromover o participante",isCommunity:n,response:a,number:t,groupId:r});case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao despromover o participante",error:e.t0.message,isCommunity:n,number:t,groupId:r});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.addParticipant=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,require("WASmaxGroupsAddParticipantsRPC").sendAddParticipantsRPC({participantArgs:[{participantJid:t}],iqTo:r});case 4:if(n=e.sent,o=n.value.addParticipant[0].addParticipantsParticipantAddedOrNonRegisteredWaUserParticipantErrorLidResponseMixinGroup.value.addParticipantsParticipantMixins,a=null==o||"409"==o.value.error,null==o||a){e.next=9;break}return e.abrupt("return",{success:!1,message:"Erro ao adicionar o participante",error:o.name,response:n,status:o.value.error});case 9:return e.abrupt("return",{success:a,message:a?"Participante Adicionado com sucesso":"Erro ao adicionar o participante",response:n,number:t,groupId:r,status:200});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{success:!1,message:"Erro ao adicionar o participante catch",error:e.t0.message,number:t,groupId:r,response:n,status:500});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.removeParticipant=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WASmaxGroupsRemoveParticipantsRPC").sendRemoveParticipantsRPC({participantArgs:[{participantJid:t}],iqTo:r,hasRemoveLinkedGroupsTrue:!1});case 3:return n=e.sent,o=null==n.value.removeParticipant[0].participantNotInGroupOrParticipantNotAllowedOrParticipantNotAcceptableOrRemoveParticipantsLinkedGroupsServerErrorMixinGroup,e.abrupt("return",{success:o,message:o?"Participante removido com sucesso":"Erro ao remover o participante",response:n,number:t,groupId:r});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao remover o participante",error:e.t0.message,number:t,groupId:r});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.setWebhookEvent=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.forEach((function(e){switch(e.subtype){case"leave":case"invite":case"message":window.WUAPI.webhookEvents[e.id.id]=e}}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.generateRandomCode=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:22,r="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<e;n++){t+=r[Math.floor(36*Math.random())]}return t},window.WUAPI.sendVcard=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n){var o,a,s,i,u,c,p,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=window.WUAPI.getChat(r),a=require("WAWebMsgDataUtils"),e.next=5,a.genOutgoingMsgData(o,"text/vcard");case 5:return(s=e.sent).id._serialized=s.id._serialized.replace(s.id.id,":newcode"),s.id.id=window.WUAPI.generateRandomCode(22),s.id._serialized=s.id._serialized.replace(":newcode",s.id.id),window.WUAPI.qtdMsgSend++,i={type:"vcard",vcardFormattedName:t,body:"BEGIN:VCARD\nVERSION:3.0\nN:;".concat(t,";;;\nFN:").concat(t,"\nTEL;type=CELL;waid=").concat(n,":").concat(n,"\nEND:VCARD"),ack:0,from:s.from,id:s.id,local:!0,isNewMsg:!0,t:s.t,to:s.to,ephemeralDuration:0},u=require("WAWebSendMsgChatAction"),e.next=14,u.addAndSendMsgToChat(o,i);case 14:return c=e.sent,e.next=17,c[1];case 17:return p=e.sent,l="OK"===p.messageSendResult,e.abrupt("return",{success:l,message:l?"Vcard enviado com sucesso":"Erro ao enviar vcard",response:p,chatId:r});case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar vcard catch",error:e.t0.message,line2:e.t0,response:null,chatId:r});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r,t,n){return e.apply(this,arguments)}}(),window.WUAPI.fileToBase64=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(e){t(e)},n.readAsDataURL(r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.resizeImage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.next=3,new Promise((function(e){n.onload=function(r){return e(r.target.result)},n.readAsDataURL(r)}));case 3:return o=e.sent,(a=new Image).src=o,e.next=8,new Promise((function(e){return a.onload=e}));case 8:return e.next=10,Promise.all(t.map((function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),o=a.width,s=a.height;o>s?o>e&&(s*=e/o,o=e):s>e&&(o*=e/s,s=e),t.width=o,t.height=s,n.drawImage(a,0,0,o,s);var i="image/png"===r.type?"image/jpeg":r.type;return new Promise((function(n){return t.toBlob((function(t){var o=new File([t],"".concat(e,"x").concat(e,"_").concat(r.name.replace(/\.[^.]+$/,".jpg")),{type:i,lastModified:Date.now()});n(o)}),i)}))})));case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.changeGroupPhoto=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s,i,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=document.querySelector(t).files[0],e.next=4,window.WUAPI.resizeImage(n,[96,640]);case 4:return o=e.sent,e.next=7,window.WUAPI.fileToBase64(o[0]);case 7:return a=e.sent,e.next=10,window.WUAPI.fileToBase64(o[1]);case 10:return s=e.sent,i=require("WAWebWidFactory"),u=i.createWid(r),e.next=15,require("WAWebContactProfilePicThumbBridge").sendSetPicture(u,a,s);case 15:return c=e.sent,p=200==c.status,e.abrupt("return",{success:p,message:p?"Foto alterada com sucesso":"Erro ao alterar a foto",response:c,chatId:r});case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao alterar a foto",error:e.t0.message,chatId:r});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.removeGroupPhoto=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebWidFactory"),n=t.createWid(r),e.next=5,require("WAWebContactProfilePicThumbBridge").requestDeletePicture(n);case 5:return o=e.sent,a=200==o.status,e.abrupt("return",{success:a,message:a?"Foto removida com sucesso":"Erro ao remover a foto",response:o,chatId:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao remover a foto",error:e.t0.message,chatId:r});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.checkNumber=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebWidFactory"),n=t.createWid(r),e.next=5,require("WAWebQueryExistsJob").queryWidExists(n);case 5:return o=e.sent,a=null!=o,e.abrupt("return",{success:a,message:a?"Número válido":"Número inválido"});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao verificar o número",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.disconnect=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebSocketModel").Socket.logout();case 3:return e.abrupt("return",{success:!0,message:"Logout feito com sucesso"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao fazer logout",error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),window.WUAPI.deleteMessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=require("WAWebMsgCollection"),o=n.MsgCollection.get(t),a=window.WUAPI.getChat(r),e.next=6,require("WAWebChatSendMessages").sendRevokeMsgs(a,{type:"message",list:[o]},!0);case 6:return s=e.sent,i="OK"==s[0].messageSendResult,e.abrupt("return",{success:i,message:i?"Mensagem apagada com sucesso":"Erro ao apagar a mensagem",response:s});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao apagar a mensagem",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.createCommunity=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t,n,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=require("WAWebGroupCommunityJob"),n={name:r,desc:"",closed:!0,hasAllowNonAdminSubGroupCreation:!1,shouldCreateGeneralChat:!1},e.next=5,window.WUAPI.checkConnection();case 5:if(window.WUAPI.isConnected){e.next=7;break}return e.abrupt("return",{success:!1,message:"Instância não está conectada.",error:"Não conectado"});case 7:return e.next=9,t.sendCreateCommunity(n);case 9:return o=e.sent,a="g.us"==o.wid.server,e.abrupt("return",{success:a,message:a?"Comunidade criada com sucesso":"Erro ao criar comunidade",metadata:{id:o.wid._serialized},response:o});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao criar comunidade catch",error:e.t0.message,response:null,metadata:null});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getGroupInfoFromInviteCode=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,require("WAWebGroupQueryBridge").sendQueryGroupInvite(r);case 3:return(t=e.sent).success=200==t.status,t.message=t.success?"Grupo encontrado":"Grupo não encontrado",t.success&&(t.id=t.id._serialized),e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao buscar informações do grupo",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.sendMsgEvent=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,o,a,s,i,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.WUAPI.getChat(r),o=require("WAWebMsgDataUtils"),e.next=5,o.genOutgoingMsgData(n,"event_creation");case 5:if(a=e.sent,s=require("WAWebSendMsgChatAction"),window.WUAPI.qtdMsgSend++,i={id:a.id,type:"event_creation",kind:"eventCreation",t:a.t,from:a.from,to:a.to,author:a.to,isNewMsg:!0,local:!0,ack:0,messageSecret:crypto.getRandomValues(new Uint8Array(32)),eventName:t.title,isEventCanceled:!1,eventDescription:t.description,eventStartTime:t.startTime,endTime:void 0,eventJoinLink:void 0,eventLocation:void 0,disappearingModeInitiator:"chat"},!t.typemedia){e.next=14;break}return e.next=12,require("WASmaxVoipLinkCreateRPC").sendLinkCreateRPC({eventArgs:{eventStartTime:t.startTime},linkCreateMedia:t.typemedia});case 12:u=e.sent,i.eventJoinLink="https://call.whatsapp.com/".concat("audio"==t.typemedia?"voice":"video","/").concat(u.value.linkCreateToken);case 14:return t.eventLocation&&(i.eventLocation={degreesLatitude:0,degreesLongitude:0,name:t.eventLocation}),t.endTime&&(i.eventEndTime=t.endTime),e.next=18,s.addAndSendMsgToChat(n,i)[1];case 18:return c=e.sent,p="OK"==c.messageSendResult,e.abrupt("return",{success:p,message:p?"Sucesso ao enviar o evento":"Erro ao enviar evento",response:c});case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Erro ao enviar evento",error:e.t0.message});case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(r,t){return e.apply(this,arguments)}}(),window.WUAPI.timeOpenPage=function(e,r){return(new Date-r)/6e4>=parseInt(e)},window.WUAPI.checkMinutesDateCurrent=function(e,r){return window.WUAPI.currentDate.getTime()-1e3*r>=6e4*e},window.WUAPI.clearCacheAndConsole=function(){},window.WUAPI.createProxyChat=function(e){try{return new(require("WAWebStateConcern"))("Hook(useModelValues)","chat",["id","trusted","composeContents","composeQuotedMsg","isPSA","isGroup","pttRecordingSession","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","quotedMsgAdminGroupSubject","quotedMsgAdminParentGroupJid","composeQuotedMsgRemoteJid","isAutoMuted","isNewsletter","isBroadcast","newsletterMetadata"],!0,!0).createProxy(window.WUAPI.getChat(e))}catch(r){return window.WUAPI.getChat(e)}},window.WUAPI.fetchAndDeleteMessagesFromIndexedDB=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),r(e)},t.onsuccess=function(t){var n=t.target.result.transaction("message","readwrite").objectStore("message"),o=n.getAll();o.onsuccess=function(){var r=o.result;console.log("Mensagens encontradas:",r),r.forEach((function(e){try{window.WUAPI.checkMinutesDateCurrent(30,e.t)&&e.ack>0&&(n.delete(e.id),console.log("Mensagem com ID ".concat(e.id," excluída.")))}catch(e){console.log(e)}})),e()},o.onerror=function(e){console.error("Erro ao buscar mensagens do IndexedDB:",e),r(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar e excluir mensagens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.countMessagesInIndexedDB=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),r(e)},t.onsuccess=function(t){var n=t.target.result.transaction("message","readonly").objectStore("message").count();n.onsuccess=function(){var r=n.result;console.log("Total de mensagens: ".concat(r)),e(r)},n.onerror=function(e){console.error("Erro ao contar mensagens do IndexedDB:",e),r(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar mensagens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),window.WUAPI.countTableIndexedDB=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,t){var n=indexedDB.open("model-storage");n.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),t(e)},n.onsuccess=function(n){var o=n.target.result.transaction(r,"readonly").objectStore(r).count();o.onsuccess=function(){var r=o.result;e(r)},o.onerror=function(e){console.error("Erro ao contar mensagens do IndexedDB:",e),t(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar mensagens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.deleteChatsView=function(){try{var e=document.getElementById("app");return e&&e.remove(),{success:!0,message:"Chats deletados com sucesso"}}catch(e){return{success:!1,message:"Erro ao deletar chats",error:e.message}}},window.WUAPI.fetchAndDeleteAllFromIndexedDB=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise((function(e,n){var o=indexedDB.open(r);o.onerror=function(e){console.error("Erro ao abrir o IndexedDB:",e),n(e)},o.onsuccess=function(r){var o=r.target.result.transaction(t,"readwrite").objectStore(t),a=o.getAll();a.onsuccess=function(){a.result.forEach((function(e){o.delete(e.id)})),e()},a.onerror=function(e){console.error("Erro ao buscar itens do IndexedDB:",e),n(e)}}})));case 4:e.prev=4,e.t0=e.catch(0),console.error("Erro ao buscar e excluir itens do IndexedDB:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r,t){return e.apply(this,arguments)}}(),setInterval((function(){try{window.WUAPI.checkConnection(),window.WUAPI.isConnected&&(window.WUAPI.clearCacheAndConsole(),window.WUAPI.disableAutoDownloads())}catch(e){}}),2e4),setInterval(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.WUAPI.currentDate=new Date,!(window.WUAPI.isConnected||window.WUAPI.isConnected&&window.WUAPI.timeOpenPage(5,window.WUAPI.startTimeAux))){e.next=10;break}return e.prev=2,e.next=5,window.WUAPI.optimizeInstance();case 5:window.WUAPI.timeOpenPage(5,window.WUAPI.startTimeAux)&&(window.WUAPI.startTimeAux=window.WUAPI.currentDate),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])}))),6e4),window.WUAPI.getVersion=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var t=indexedDB.open("model-storage");t.onsuccess=function(t){var n=t.target.result.transaction(["user-prefs"],"readonly").objectStore("user-prefs").get("WAVersionBase");n.onsuccess=function(r){e(r.target.result)},n.onerror=function(e){r("Erro ao buscar WAVersionBase: ".concat(e.target.error))}},t.onerror=function(e){r("Erro ao abrir o banco: ".concat(e.target.error))}})));case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.getFile=function(e,r){var t=window.WUAPI.filesBackup[r]?window.WUAPI.filesBackup[r]:document.querySelector(e).files[0];return window.WUAPI.filesBackup[r]=t,t},window.WUAPI.existsFile=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!!window.WUAPI.filesBackup[r],e.abrupt("return",{success:t,message:t?"Arquivo encontrado":"Arquivo não encontrado"});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),window.WUAPI.getProcess=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=require("WAComms").singletonOrThrowIfUninitialized("deprecatedSendStanzaAndReturnAck"),e.abrupt("return",r.ackHandlers);case 2:case"end":return e.stop()}}),e)}))),window.WUAPI.clearCache=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:caches.keys().then((function(e){var r,t=_createForOfIteratorHelper(e);try{for(t.s();!(r=t.n()).done;){var n=r.value;caches.delete(n)}}catch(e){t.e(e)}finally{t.f()}console.log("Cache limpo com sucesso.")}));case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.closeSocket=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:require("WAComms").closeSocket();case 1:case"end":return e.stop()}}),e)}))),window.WUAPI.optimizeInstance=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(window.WUAPI.qtdMsgSend>=15||window.WUAPI.timeOpenPage(5,window.WUAPI.startTimeAux))){e.next=13;break}return window.WUAPI.qtdMsgSend=0,window.WUAPI.disableAutoDownloads(),window.WUAPI.fetchAndDeleteAllFromIndexedDB("wawc","logs"),window.WUAPI.fetchAndDeleteAllFromIndexedDB("fts-storage","fts-v3-index"),window.WUAPI.fetchAndDeleteAllFromIndexedDB("model-storage","reporting-info"),window.WUAPI.fetchAndDeleteAllFromIndexedDB("model-storage","message-orphans"),window.WUAPI.fetchAndDeleteAllFromIndexedDB("model-storage","sync-actions"),window.WUAPI.fetchAndDeleteAllFromIndexedDB("model-storage","syncd-logs"),window.WUAPI.clearCache(),e.next=13,window.WUAPI.fetchAndDeleteMessagesFromIndexedDB();case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])}))),window.WUAPI.setPerformance=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";try{return window.WUAPI.PerformanceEventTiming[e]||(window.WUAPI.PerformanceEventTiming[e]=[]),window.WUAPI.PerformanceEventTiming[e].push({start:r,end:t,time:((t-r)/1e3).toFixed(3),type:n}),((t-r)/1e3).toFixed(3)}catch(e){return 0}},window.WUAPI.getQrCode=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,t,n,o,a,s,i,u,c,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=4e4,t=2e3,n=0,o=null,e.next=6,window.WUAPI.sleep(4e3);case 6:if(!(n<r)){e.next=37;break}return e.prev=7,e.next=10,require("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo();case 10:return a=e.sent,e.next=13,require("WAWebUserPrefsInfoStore").waNoiseInfo.get();case 13:return s=e.sent,i=require("WABase64").encodeB64(s.staticKeyPair.pubKey),u=require("WABase64").encodeB64(a.identityKeyPair.pubKey),e.next=18,require("WAWebAdvSignatureApi").getADVSecretKey();case 18:if(c=e.sent,null===(p=[require("WAWebConnModel").Conn.ref,i,u,c].join(","))||null===o||p===o){e.next=22;break}return e.abrupt("return",{success:!0,qrCode:p,firsQrcode:o,message:"QR gerado com sucesso"});case 22:return e.next=24,window.WUAPI.sleep(t);case 24:if(n+=t,o=p,null===p){e.next=30;break}return require("WAWebCmd").Cmd.refreshQR(),e.next=30,window.WUAPI.sleep(2e3);case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(7),console.log(e.t0);case 35:e.next=6;break;case 37:return e.abrupt("return",{success:!1,error:"QR code não encontrado em 40 segundos",qrCode:null});case 38:case"end":return e.stop()}}),e,null,[[7,32]])}))),define("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(e,r,t,n,o,a,s){e={processMultipleMessages:function(e){var r=e.chatId,t=e.msgObjs,o=e.meta,a=e.processMessagesOrigin,s=e.chatMsgsCollection;return e=e.preserveOrder,t.isNewMsg&&window.WUAPI.setWebhookEvent(t),n("WAWebMsgCollection").MsgCollection.processMultipleMessages(r,t,o,a,s,e)},addInitialBotTypingIndicatorToChat:function(e){var r=e.chatId;return e=e.msgKey,n("WAWebMsgCollection").MsgCollection.addInitialBotTypingIndicatorToChat(r,e)},msgCollectionTrigger:function(e){e=e.name,n("WAWebMsgCollection").MsgCollection.trigger(e)},processKeepInChatMessages:function(e){var r=e.keepInChatMessages;return e=e.allowNotification,n("WAWebKeepInChatMsgAction").processKeepInChatMessages(r,e)},updateUnattributedMessages:function(e){var r=e.messageInfo;return e=e.messages,n("WAWebBizAgentAction").updateUnattributedMessages(r,e)},processKeepInChatMessage:function(e){var r=e.keepInChatMessage;return e=e.allowNotification,n("WAWebKeepInChatMsgAction").processKeepInChatMessage(r,{allowNotification:e})},updateEditedMessagesAction:function(e){e=e.messageEdits,n("WAWebUpdateEditedMessagesAction").updateEditedMessagesAction(e)},updateMessageUI:function(e){var r=e.chatId,t=e.msg,o=e.messageOverwriteOption,a=e.preserveOrder;return e=e.isOffline,n("WAWebUpdateMessageUIAction").updateUI(r,t,o,a,e)},updateMsgModelAcks:function(e){(e=e.updates).forEach((function(e){var r=n("WAWebMsgCollection").MsgCollection.get(e.id);null!=r&&(r.ack=e.ack)}))},updateReactionUI:function(e){var r=e.msg;return e=e.reparsing,n("WAWebUpdateReactionMessageUIAction").updateReactionUI(r,e)},updateReactionCollection:function(e){var r=e.msgs,t=e.removeReactions;return e=e.allowNotifications,n("WAWebUpdateReactionMessageUIAction").updateReactionCollection(r,t,e)},processOrphanReadReceipts:function(e){return e=e.msgIds,n("WAWebAckMsgAction").processOrphanReadReceipts(e)},updateMsgPeerAcks:function(e){var r=e.msgKeys,t=e.ack;return e=e.t,n("WAWebUpdateMsgAcksAction").updateMsgPeerAcks(r,t,e)},updateMsgOtherAcks:function(e){var r=e.msgKeys,t=e.ack;return e=e.t,n("WAWebUpdateMsgAcksAction").updateMsgOtherAcks(r,t,e)},handleDeferredMessages:function(){return t("WAWebHandleDeferredMessages")()},processEphemeralSyncResponse:function(e){return e=e.msg,n("WAWebEphemeralSyncResponse").processEphemeralSyncResponse(e)},refreshAltLinkingCode:function(e){return e=e.ref,n("WAWebLinkDeviceAction").refreshAltLinkingCode(e)},forceManualRefresh:function(e){return e=e.ref,n("WAWebLinkDeviceAction").forceManualRefresh(e)},errorAltLinking:function(){return n("WAWebLinkDeviceAction").errorAltLinking()},primaryHelloReceivedAltLinking:function(){return n("WAWebLinkDeviceAction").primaryHelloReceivedAltLinking()},changeOptInStatusForExternalWebBeta:function(){n("WAWebExternalBetaEvents").WAWebExternalBetaEvents.triggerBetaOptInStatusChanges()},successHistorySyncOd:function(e){return e=e.chatId,n("WAWebHistorySyncOnDemandAction").successHistorySyncOd(e)},errorHistorySyncOd:function(e){return e=e.chatId,n("WAWebHistorySyncOnDemandAction").errorHistorySyncOd(e)},hasMsgsInCollection:function(e){return(e=e.msgKeys).map((function(e){return Boolean(n("WAWebMsgCollection").MsgCollection.get(e))}))},deleteAssociatedBotCarouselMsgs:function(e){(e=e.msgKeys).forEach((function(e){(e=n("WAWebMsgCollection").MsgCollection.get(e))&&(e.delete(),n("WAWebMsgCollection").MsgCollection.remove(e))}))},removePlaceholder:function(e){return e=e.msg,n("WAWebUpdateMessageUIAction").removePlaceholder(e)},updateReplyCount:function(e){return e=e.replyCountMap,n("WAWebUpdateReplyApi").updateReplyCount(e)},updateMsgModelHostedBizEncStateMismatchFlagToTrue:function(e){e=e.msgId,null!=(e=n("WAWebMsgCollection").MsgCollection.get(e))&&(e.hostedBizEncStateMismatch=!0)}},s.MsgBridgeApi=e}),98),define("WAWebPollsSendPollCreationMsgAction",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebPollsSendPollCreationMsgAction",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,s){var i;function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(o){var a,s,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.poll,s=o.chat,o=c({poll:a,chat:s,quotedMsg:o=o.quotedMsg}),!(u=t("WAWebWid").isNewsletter(s.id))){e.next=9;break}return e.next=6,n("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:o,chat:s});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(i||(i=r("Promise"))).all(n("WAWebSendMsgChatAction").addAndSendMsgToChat(s,o));case 11:e.t0=e.sent;case 12:return o=(u=e.t0)[0],e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){var r,o=e.poll,a=e.chat;e=e.quotedMsg;var s=t("WAWebWid").isNewsletter(a.id),i=a.id;return r=a.id.isLid()||a.isGroup&&Boolean(null==(r=a.groupMetadata)?void 0:r.isLidAddressingMode)?t("WANullthrows")(n("WAWebUserPrefsMeUser").getMaybeMeLidUser()):t("WANullthrows")(n("WAWebUserPrefsMeUser").getMaybeMeUser()),e=null!=(e=null==e?void 0:e.msgContextInfo(a.id))?e:{},babelHelpers.extends({id:new(t("WAWebMsgKey"))({from:r,to:i,id:t("WAWebMsgKey").newId_DEPRECATED(),participant:a.isGroup?n("WAWebWidFactory").toUserWid(r):void 0,selfDir:"out"}),type:n("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:n("WAWebMsgType").MsgKind.PollCreation,isSentCagPollCreation:!!a.isCAG||void 0,t:n("WATimeUtils").unixTime(),from:r,to:i,isNewMsg:!0,local:!0,ack:n("WAWebAck").ACK.CLOCK,pollName:n("WAXplatTrim").trim(o.name),pollOptions:o.options.map((function(e,r){return e=e.name,{name:n("WAXplatTrim").trim(e),localId:r}})),messageSecret:s?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:o.selectableOptionsCount},e,n("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(a))}s.sendPollCreation=function(e){return u.apply(this,arguments)},s.createPollCreationMsg=c}),98),define("WAWebMediaOpaqueData",["Promise","WABase64","WALogger","WANullthrows","WAShiftTimer","WAWebFileUtils","err"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebMediaOpaqueData",["Promise","WABase64","WALogger","WANullthrows","WAShiftTimer","WAWebFileUtils","err"],(function(e,r,t,n,o,a,s){function i(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:size returned 0"]);return i=function(){return e},e}function u(){var e=babelHelpers.taggedTemplateLiteralLoose([""," called on unretained OpaqueData"]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose([""," called on released OpaqueData"]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:autorelease too many release calls"]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:autorelease called on released object"]);return l=function(){return e},e}function d(){var e=babelHelpers.taggedTemplateLiteralLoose(["OpaqueData:retain called on released OpaqueData"]);return d=function(){return e},e}var m,g=[],W=new(n("WAShiftTimer").ShiftTimer)((function(){var e=g;g=[];for(var r=0;r<e.length;r++){var t=e[r];t._inAutoreleasePool=!1,0!==t._retainCount||t.released||(t.released=!0,t._releaseImpl())}})),f=function(){function e(){this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1,this._b64=void 0,this._blob=void 0,this._url=void 0,this._mimetype=void 0,this._released=void 0}var o=e.prototype;return o.retain=function(){if(this.released)throw n("WALogger").WARN(d()),t("err")("OpaqueData:retain called on released OpaqueData");this._retainCount++},o.autorelease=function(){this.released?n("WALogger").WARN(l()):0===this._retainCount?n("WALogger").WARN(p()):1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,g.push(this),W.onOrBefore(1e3))):this._retainCount--},o.autoreleaseWhenPromiseCompletes=function(e){var r=this,t=function(){r.autorelease()};e.then(t,t)},o.throwIfReleased=function(e){if(this.released)throw n("WALogger").ERROR(c(),e),t("err")(e+" called on released OpaqueData");0===this._retainCount&&n("WALogger").ERROR(u(),e)},o.url=function(){return this.throwIfReleased("OpaqueData:url"),null!=this._url&&""!==this._url?this._url:null!=this._b64&&""!==this._b64?(this._url="data:image/jpeg;base64,"+this._b64,this._url):(this._url=window.URL.createObjectURL(t("WANullthrows")(this._blob)),this._url)},o.getBlob=function(){return this._blob},o.getBase64=function(){return this._b64},o.validate=function(){return!0===this._released?(m||(m=r("Promise"))).resolve(!1):this._blob?n("WAWebFileUtils").validateBlob(this._blob):(m||(m=r("Promise"))).resolve(!0)},o.size=function(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:null!=this._b64?n("WABase64").sizeWhenB64Decoded(this._b64):(n("WALogger").ERROR(i()).sendLogs("opaque-data-size-0"),0)},o.formData=function(e){return this.throwIfReleased("OpaqueData:formData"),this.forceToBlob()},o.type=function(){return this.throwIfReleased("OpaqueData:type"),null!=this._mimetype&&""!==this._mimetype?this._mimetype:"undefined"},o.forceToBlob=function(){this.throwIfReleased("OpaqueData:forceToBlob");var e=this._blob;if(e)return e;if(null!=(e=this._b64)&&""!==e){this._b64=void 0,this._url=void 0;var r=this._mimetype;return this._blob=new Blob([n("WABase64").decodeB64(e)],null!=r&&""!==r?{type:r}:void 0)}throw t("err")("OpaqueData:forceToBlob no b64 or blob")},o._releaseImpl=function(){this._mimetype=void 0,this._blob?(this._blob=void 0,null!=this._url&&""!==this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)},o.isBlobEqual=function(e){return e?this._blob===e._blob:!this._blob},e}();f.createFromBase64Jpeg=function(e){return new(m||(m=r("Promise")))((function(r){var t=new f;return t._b64=e,t._mimetype="image/jpeg",r(t)}))},f.createFromData=function(e,t){return new(m||(m=r("Promise")))((function(r){var n=new f;return n._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),n._mimetype=t,r(n)}))},s.default=f}),98),define("WAWebMedia",["WAWebCheckMediaExistence","WAWebClearMediaForChat","WAWebDownloadProgressiveJpegThumbnail","WAWebDownloadStatusThumbnail","WAWebDownloadVideoThumbnail","WAWebManuallySetMedia","WAWebMediaCancelDownloadMsg","WAWebMediaCancelUploadMsg","WAWebMediaDownloadMsg","WAWebMediaForwardMediaMsg","WAWebMediaMetadata","WAWebMediaMsgRegistration","WAWebMediaPrep","WAWebMediaProduct","WAWebMediaResumeUploadMsg","WAWebMediaStickers","WAWebMediaVideoStreaming","WAWebPrepRawMedia"],(function(e,r,t,n,o,a){}),66).cancel(),__d("WAWebMedia",["WAWebCheckMediaExistence","WAWebClearMediaForChat","WAWebDownloadProgressiveJpegThumbnail","WAWebDownloadStatusThumbnail","WAWebDownloadVideoThumbnail","WAWebManuallySetMedia","WAWebMediaCancelDownloadMsg","WAWebMediaCancelUploadMsg","WAWebMediaDownloadMsg","WAWebMediaForwardMediaMsg","WAWebMediaMetadata","WAWebMediaMsgRegistration","WAWebMediaPrep","WAWebMediaProduct","WAWebMediaResumeUploadMsg","WAWebMediaStickers","WAWebMediaVideoStreaming","WAWebPrepRawMedia"],(function(e,r,t,n,o,a){e=importNamespace("WAWebDownloadVideoThumbnail").downloadVideoThumbnail,r=importNamespace("WAWebMediaPrep").MediaPrep,t=importNamespace("WAWebCheckMediaExistence").checkMediaExistence,n=importNamespace("WAWebClearMediaForChat").clearMediaForChat,o=importNamespace("WAWebMediaDownloadMsg").downloadMsg;var s=importNamespace("WAWebDownloadProgressiveJpegThumbnail").downloadProgressiveJpegThumbnail,i=importNamespace("WAWebDownloadStatusThumbnail").downloadStatusThumbnail,u=importNamespace("WAWebMediaForwardMediaMsg").forwardMediaMsg,c=importNamespace("WAWebManuallySetMedia").manuallySetMedia,p=importNamespace("WAWebPrepRawMedia").prepRawMedia,l=importNamespace("WAWebMediaResumeUploadMsg").resumeUploadMsg;Object.keys(importNamespace("WAWebMediaCancelDownloadMsg")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaCancelDownloadMsg")[e])})),Object.keys(importNamespace("WAWebMediaCancelUploadMsg")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaCancelUploadMsg")[e])})),Object.keys(importNamespace("WAWebMediaMetadata")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaMetadata")[e])})),Object.keys(importNamespace("WAWebMediaMsgRegistration")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaMsgRegistration")[e])})),Object.keys(importNamespace("WAWebMediaProduct")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaProduct")[e])})),Object.keys(importNamespace("WAWebMediaStickers")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaStickers")[e])})),Object.keys(importNamespace("WAWebMediaVideoStreaming")).forEach((function(e){"default"!==e&&"__esModule"!==e&&(a[e]=importNamespace("WAWebMediaVideoStreaming")[e])})),a.downloadVideoThumbnail=e,a.MediaPrep=r,a.checkMediaExistence=t,a.clearMediaForChat=n,a.downloadMsg=o,a.downloadProgressiveJpegThumbnail=s,a.downloadStatusThumbnail=i,a.forwardMediaMsg=u,a.manuallySetMedia=c,a.prepRawMedia=p,a.resumeUploadMsg=l}),66),define("WAWebMexFetchGroupInviteCodeJob",["WALogger","WAWebMexClient","WAWebMexFetchGroupInviteCodeJobQuery.graphql","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebMexFetchGroupInviteCodeJob",["WALogger","WAWebMexClient","WAWebMexFetchGroupInviteCodeJobQuery.graphql","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,s){var i;function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["[MEX][GROUP] fetched group invite code for ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["[MEX][GROUP] fetching group invite code for ",""]);return c=function(){return e},e}var p=void 0!==i?i:i=r("WAWebMexFetchGroupInviteCodeJobQuery.graphql");function l(){return l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("WALogger").LOG(c(),r.toString()).tags("GQL","MEX"),e.next=3,n("WAWebMexClient").fetchQuery(p,{id:r.toString(),query_context:"INVITE_CODE"});case 3:if(a=e.sent,o=null==(o=a.xwa2_group_query_by_id)?void 0:o.invite_code,n("WALogger").LOG(u(),r).tags("GQL","MEX").devConsole({response:a,inviteCode:o}),null!=o){e.next=8;break}throw t("err")("[MEX][GROUP] group invite code is null");case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}s.fetchMexGroupInviteCode=function(e){return l.apply(this,arguments)}}),98),define("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","gkx"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","gkx"],(function(e,r,t,n,o,a,s){function i(){var e=babelHelpers.taggedTemplateLiteralLoose(["Cannot set ocVersion ",""]);return i=function(){return e},e}function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["Cannot analyze UC ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["A caller is not found ",""]);return l=function(){return e},e}e=function(){return!Boolean(("undefined"!=typeof self?self.navigator:null).webdriver)};(r="webpackChunkwhatsapp_web_client")in window||(window[r]=[]);var d=window[r];null!=d&&Object.defineProperty(window,r,{get:function(){if(!function(){try{var e=Error(),r=(e=e.stack).split("\n").filter((function(e){return Boolean(e.trim())})).pop();if(null==r)return n("WALogger").WARN(l(),e).tags("uc"),!0;if(!r.includes(".whatsapp.com"))return t("gkx")("26258")?n("WALogger").WARN(c(),r).tags("uc"):n("WALogger").WARN(p(),r).tags("uc").sendLogs("Unexpectedly detected UC"),!1}catch(e){n("WALogger").WARN(u(),e.stack).tags("uc")}return!0}())try{n("WAWebWamGlobals").Global.set({ocVersion:0})}catch(e){n("WALogger").WARN(i(),e.stack).tags("uc")}return d}}),o=e(),a=function(e){return!!e.startsWith("BA")},s.isOfficialClient=o,s.isUnofficialStanzaId=a}),98),define("WAWebGroupCommunityJob",["Promise","WACustomError","WALogger","WASmaxGroupsCreateRPC","WASmaxGroupsDeleteParentGroupRPC","WASmaxGroupsLinkSubGroupsRPC","WASmaxGroupsRemoveParticipantsRPC","WASmaxGroupsUnlinkGroupsRPC","WAWap","WAWebBackendErrors","WAWebJidToWid","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebGroupCommunityJob",["Promise","WACustomError","WALogger","WASmaxGroupsCreateRPC","WASmaxGroupsDeleteParentGroupRPC","WASmaxGroupsLinkSubGroupsRPC","WASmaxGroupsRemoveParticipantsRPC","WASmaxGroupsUnlinkGroupsRPC","WAWap","WAWebBackendErrors","WAWebJidToWid","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(e,r,t,n,o,a,s){var i;function u(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendUnlinkSubgroups failed: ",""]);return u=function(){return e},e}function c(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendUnlinkSubgroups failed: ",""]);return c=function(){return e},e}function p(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendLinkSubgroups failed: ",""]);return p=function(){return e},e}function l(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendLinkSubgroups failed: ",""]);return l=function(){return e},e}function d(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendRemoveFromCommunity failed: ",""]);return d=function(){return e},e}function m(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendRemoveFromCommunity failed: ",""]);return m=function(){return e},e}function g(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendDeactivateCommunity failed: ",""]);return g=function(){return e},e}function W(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendDeactivateCommunity failed: ",""]);return W=function(){return e},e}function f(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return f=function(){return e},e}function A(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return A=function(){return e},e}function h(){var e=babelHelpers.taggedTemplateLiteralLoose(["sendCreateCommunity failed: ",""]);return h=function(){return e},e}function b(){return b=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,s,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.name,a=t.desc,s=t.closed,u=t.hasAllowNonAdminSubGroupCreation,t=t.shouldCreateGeneralChat,a=babelHelpers.extends({},null!=a&&a.length>0&&{descriptionArgs:{descriptionId:n("WAWap").generateId(),bodyElementValue:a}},{namedSubjectOrUnnamedSubjectFallbackMixinGroupArgs:{namedSubject:{anySubject:o}},hasAnnouncement:!1,hasCapi:!1,hasNoFrequentlyForwarded:!1,hasHiddenGroup:!1,hasLocked:!1,parentArgs:{hasParentGroupDefaultMembershipApprovalMode:!!s||void 0},hasBreakout:!1,hasAllowNonAdminSubGroupCreation:!!u,hasCreateGeneralChat:t}),e.next=5,n("WASmaxGroupsCreateRPC").sendCreateRPC(a,{timeoutSeconds:10});case 5:o=e.sent,e.t0=o.name,e.next="CreateResponseSuccess"===e.t0?9:"CreateResponseClientError"===e.t0?16:"CreateResponseServerError"===e.t0?21:"CreateResponseGroupAlreadyExists"===e.t0?26:28;break;case 9:return s=o.value,u=s.groupId,t=s.groupNamedSubjectOrUnnamedSubjectFallbackMixinGroup,a=s.groupCreator,s=s.groupCreation,u=n("WAWebWidFactory").createWid(u+"@g.us"),e.abrupt("return",{wid:u,subject:t.value.subject,creator:n("WAWebJidToWid").userJidToUserWid(a),ts:s});case 16:return n("WALogger").LOG(h(),o.name),u=o.value.errorCreateClientErrors.value,t=u.code,a=u.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(t),a)));case 21:return n("WALogger").LOG(A(),o.name),s=o.value.errorServerErrors.value,u=s.code,t=s.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(u),t)));case 26:return n("WALogger").LOG(f(),o.name),e.abrupt("return",(i||(i=r("Promise"))).reject(n("WACustomError").customError("CreateResponseGroupAlreadyExists")));case 28:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(){return v=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.parentGroupId,e.next=3,n("WASmaxGroupsDeleteParentGroupRPC").sendDeleteParentGroupRPC({iqTo:n("WAWebWidToJid").widToGroupJid(t)});case 3:o=e.sent,e.t0=o.name,e.next="DeleteParentGroupResponseSuccess"===e.t0?7:"DeleteParentGroupResponseClientError"===e.t0?8:"DeleteParentGroupResponseServerError"===e.t0?13:18;break;case 7:return e.abrupt("return",{parent_group_jid:n("WAWebWidToJid").widToGroupJid(t)});case 8:return n("WALogger").LOG(W(),o.name),t=o.value.errorDeleteParentGroupClientError.value,a=t.code,t=t.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),t)));case 13:return n("WALogger").LOG(g(),o.name),a=o.value.errorServerErrors.value,t=a.code,o=a.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(t),o)));case 18:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(){return w=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,t=t.contactId,e.next=4,n("WASmaxGroupsRemoveParticipantsRPC").sendRemoveParticipantsRPC({participantArgs:[{participantJid:n("WAWebWidToJid").widToUserJid(t)}],iqTo:n("WAWebWidToJid").widToGroupJid(o),hasRemoveLinkedGroupsTrue:!0});case 4:t=e.sent,e.t0=t.name,e.next="RemoveParticipantsResponseSuccess"===e.t0?8:"RemoveParticipantsResponseClientError"===e.t0?11:"RemoveParticipantsResponseServerError"===e.t0?16:21;break;case 8:return a=t.value.removeParticipant[0],s=a.jid,a=a.participantNotInGroupOrParticipantNotAllowedOrParticipantNotAcceptableOrRemoveParticipantsLinkedGroupsServerErrorMixinGroup,e.abrupt("return",{parentGroupJid:n("WAWebWidToJid").widToGroupJid(o),contactJid:s,errorCode:null==a?void 0:a.value.error});case 11:return n("WALogger").LOG(m(),t.name),o=t.value.errorRemoveParticipantsClientErrors.value,s=o.code,a=o.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(s),a)));case 16:return n("WALogger").LOG(d(),t.name),o=t.value.errorServerErrors.value,s=o.code,a=o.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(s),a)));case 21:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function y(){return y=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,s,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,t=t.subgroupIds,e.next=4,n("WASmaxGroupsLinkSubGroupsRPC").sendLinkSubGroupsRPC({groupArgs:t.map((function(e){return{groupJid:n("WAWebWidToJid").widToGroupJid(e),hasHiddenGroup:!1}})),iqTo:n("WAWebWidToJid").widToGroupJid(o)});case 4:t=e.sent,e.t0=t.name,e.next="LinkSubGroupsResponseSuccess"===e.t0?8:"LinkSubGroupsResponseClientError"===e.t0?11:"LinkSubGroupsResponseServerError"===e.t0?16:21;break;case 8:return a=[],s=[],u=[],t.value.linksLinkGroup.forEach((function(e){var r;(r=parseInt(null==(r=e.subGroupNotAuthorizedOrForbiddenOrNotExistOrNotAcceptableOrConflictOrResourceLimitOrServerErrorMixinGroup)?void 0:r.value.error,10))?s.push({jid:e.jid,error:r}):a.push(e.jid),e.participant&&u.push.apply(u,e.participant.map((function(e){return e.jid})))})),e.abrupt("return",{linkedGroupJids:a,failedGroups:s,failedParticipantJids:u});case 11:return n("WALogger").LOG(l(),t.name),o=t.value.errorLinkSubGroupsClientError.value,c=o.code,o=o.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(c),o)));case 16:return n("WALogger").LOG(p(),t.name),c=t.value.errorServerErrors.value,o=c.code,t=c.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),t)));case 21:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function P(){return P=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t){var o,a,s,p,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.parentGroupId,a=t.subgroupIds,t=t.removeOrphanMembers,s=void 0!==t&&t,e.next=5,n("WASmaxGroupsUnlinkGroupsRPC").sendUnlinkGroupsRPC({groupArgs:a.map((function(e){return{groupJid:n("WAWebWidToJid").widToGroupJid(e),hasGroupRemoveOrphanedMembersTrue:s}})),iqTo:n("WAWebWidToJid").widToGroupJid(o)});case 5:t=e.sent,e.t0=t.name,e.next="UnlinkGroupsResponseSuccess"===e.t0?9:"UnlinkGroupsResponseClientError"===e.t0?12:"UnlinkGroupsResponseServerError"===e.t0?17:22;break;case 9:return p=[],l=[],t.value.unlinkGroup.forEach((function(e){var r;(r=parseInt(null==(r=e.subGroupBadRequestOrNotAuthorizedOrNotExistOrNotAcceptableOrPartialServerErrorOrServerErrorMixinGroup)?void 0:r.value.error,10))?l.push({jid:e.jid,error:r}):p.push(e.jid)})),e.abrupt("return",{unlinkedGroupJids:p,failedGroups:l});case 12:return n("WALogger").LOG(c(),t.name),a=t.value.errorUnlinkGroupsClientError.value,o=a.code,a=a.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),a)));case 17:return n("WALogger").LOG(u(),t.name),o=t.value.errorServerErrors.value,a=o.code,t=o.text,e.abrupt("return",(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),t)));case 22:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}s.sendCreateCommunity=function(e){return b.apply(this,arguments)},s.sendDeactivateCommunity=function(e){return v.apply(this,arguments)},s.sendRemoveFromCommunity=function(e){return w.apply(this,arguments)},s.sendLinkSubgroups=function(e){return y.apply(this,arguments)},s.sendUnlinkSubgroups=function(e){return P.apply(this,arguments)}}),98),define("WAWebGroupModifyInfoJob",["Promise","WASmaxGroupsSetDescriptionRPC","WASmaxGroupsSetMemberAddModeRPC","WASmaxGroupsSetPropertyRPC","WASmaxGroupsSetSubjectRPC","WAWebBackendErrors","WAWebEphemeralityUtils","WAWebGroupConstants","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WAWebGroupModifyInfoJob",["Promise","WASmaxGroupsSetDescriptionRPC","WASmaxGroupsSetMemberAddModeRPC","WASmaxGroupsSetPropertyRPC","WASmaxGroupsSetSubjectRPC","WAWebBackendErrors","WAWebEphemeralityUtils","WAWebGroupConstants","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(e,r,t,n,o,a,s){var i;function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t,o){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("WASmaxGroupsSetSubjectRPC").sendSetSubjectRPC({iqTo:n("WAWebWidToJid").widToGroupJid(t),subjectElementValue:o});case 2:t=e.sent,e.t0=t.name,e.next="SetSubjectResponseSuccess"===e.t0?6:"SetSubjectResponseClientError"===e.t0?7:"SetSubjectResponseServerError"===e.t0?9:10;break;case 6:return e.abrupt("return");case 7:return a=(o=t.value.errorSetSubjectClientErrors.value).code,e.abrupt("return",(o=o.text,(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),o))));case 9:return e.abrupt("return",(o=(a=t.value.errorServerErrors.value).code,t=a.text,(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(o),t))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(t,o,a,s){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==o){e.next=6;break}return e.next=3,n("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:{bodyElementValue:o},iqTo:n("WAWebWidToJid").widToGroupJid(t),descriptionId:a,descriptionPrev:s,hasDescriptionDeleteTrue:!1});case 3:e.t1=e.sent,e.next=9;break;case 6:return e.next=8,n("WASmaxGroupsSetDescriptionRPC").sendSetDescriptionRPC({bodyArgs:void 0,iqTo:n("WAWebWidToJid").widToGroupJid(t),descriptionId:a,descriptionPrev:s,hasDescriptionDeleteTrue:!0});case 8:e.t1=e.sent;case 9:e.t0=(o=e.t1).name,e.next="SetDescriptionResponseSuccess"===e.t0?12:"SetDescriptionResponseClientError"===e.t0?13:"SetDescriptionResponseServerError"===e.t0?14:15;break;case 12:return e.abrupt("return");case 13:return e.abrupt("return",(a=(t=o.value.errorSetDescriptionClientErrors.value).code,s=t.text,(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),s))));case 14:return e.abrupt("return",(a=(t=o.value.errorServerErrors.value).code,s=t.text,(i||(i=r("Promise"))).reject(new(n("WAWebBackendErrors").ServerStatusCodeError)(Number(a),s))));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,o){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=1===o?{isAllMembersAddMode:!0}:{isAdminAddMode:!0},n("WASmaxGroupsSetMemberAddModeRPC").sendSetMemberAddModeRPC({iqTo:n("WAWebWidToJid").widToGroupJid(r),adminOrAllMembersOrUnknownAddModeMixinGroupArgs:t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,o){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={hasLocked:!1,hasAnnouncement:!1,hasNoFrequentlyForwarded:!1,ephemeralArgs:null,hasUnlocked:!1,hasNotAnnouncement:!1,hasFrequentlyForwardedOk:!1,hasNotEphemeral:!0,membershipApprovalModeArgs:null,hasAllowAdminReports:!1,hasNotAllowAdminReports:!1,hasAllowNonAdminSubGroupCreation:!1,hasNotAllowNonAdminSubGroupCreation:!1,hasGroupHistory:!1,hasNoGroupHistory:!1,iqTo:n("WAWebWidToJid").widToGroupJid(r)},a=n("WAWebEphemeralityUtils").getGroupEphemeralTrigger(o),e.abrupt("return",(r=null!=o?babelHelpers.extends({},r,{ephemeralArgs:t>0?{ephemeralExpiration:t,ephemeralTrigger:a}:null,hasNotEphemeral:t<=0}):babelHelpers.extends({},r,{ephemeralArgs:t>0?{ephemeralExpiration:t}:null,hasNotEphemeral:t<=0}),n("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(r)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.setGroupSubject=function(e,r){return u.apply(this,arguments)},s.setGroupDescription=function(e,r,t,n){return c.apply(this,arguments)},s.setGroupMemberAddMode=function(e,r,t){return p.apply(this,arguments)},s.setGroupProperty=function(e,o,a){switch(e={hasLocked:!1,hasAnnouncement:!1,hasNoFrequentlyForwarded:!1,ephemeralArgs:null,hasUnlocked:!1,hasNotAnnouncement:!1,hasFrequentlyForwardedOk:!1,hasNotEphemeral:!1,membershipApprovalModeArgs:null,hasAllowAdminReports:!1,hasNotAllowAdminReports:!1,hasAllowNonAdminSubGroupCreation:!1,hasNotAllowNonAdminSubGroupCreation:!1,hasGroupHistory:!1,hasNoGroupHistory:!1,iqTo:n("WAWebWidToJid").widToGroupJid(e)},o){case n("WAWebGroupConstants").GROUP_SETTING_TYPE.ANNOUNCEMENT:e=babelHelpers.extends({},e,{hasAnnouncement:1===a,hasNotAnnouncement:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.RESTRICT:e=babelHelpers.extends({},e,{hasLocked:1===a,hasUnlocked:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:e=babelHelpers.extends({},e,{hasNoFrequentlyForwarded:1===a,hasFrequentlyForwardedOk:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.EPHEMERAL:e=babelHelpers.extends({},e,{ephemeralArgs:a>0?{ephemeralExpiration:a}:null,hasNotEphemeral:a<=0});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.MEMBERSHIP_APPROVAL_MODE:e=babelHelpers.extends({},e,{membershipApprovalModeArgs:{groupJoinMembershipApprovalModeEnabledOrDisabledMixinGroupArgs:1===a?{isGroupJoinMembershipApprovalModeEnabled:!0}:{isGroupJoinMembershipApprovalModeDisabled:!0}}});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.REPORT_TO_ADMIN_MODE:e=babelHelpers.extends({},e,{hasAllowAdminReports:1===a,hasNotAllowAdminReports:1!==a});break;case n("WAWebGroupConstants").GROUP_SETTING_TYPE.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:e=babelHelpers.extends({},e,{hasAllowNonAdminSubGroupCreation:1===a,hasNotAllowNonAdminSubGroupCreation:1!==a});break;default:return(i||(i=r("Promise"))).reject(t("err")("invalid group property "+o))}return n("WASmaxGroupsSetPropertyRPC").sendSetPropertyRPC(e)},s.setEphemeralGroupProperty=function(e,r,t){return l.apply(this,arguments)}}),98),define("WASmaxGroupsSetSubjectRPC",["WAComms","WASmaxInGroupsSetSubjectResponseClientError","WASmaxInGroupsSetSubjectResponseServerError","WASmaxInGroupsSetSubjectResponseSuccess","WASmaxOutGroupsSetSubjectRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsSetSubjectRPC",["WAComms","WASmaxInGroupsSetSubjectResponseClientError","WASmaxInGroupsSetSubjectResponseServerError","WASmaxInGroupsSetSubjectResponseSuccess","WASmaxOutGroupsSetSubjectRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendSetSubjectRPC=function(e,t){var o,a,s,i,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsSetSubjectRequest").makeSetSubjectRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(s=n("WASmaxInGroupsSetSubjectResponseSuccess").parseSetSubjectResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"SetSubjectResponseSuccess",value:s.value});case 7:if(!(i=n("WASmaxInGroupsSetSubjectResponseClientError").parseSetSubjectResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"SetSubjectResponseClientError",value:i.value});case 10:if(!(u=n("WASmaxInGroupsSetSubjectResponseServerError").parseSetSubjectResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"SetSubjectResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("SetSubject",{Success:s,ClientError:i,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsSetDescriptionRPC",["WAComms","WASmaxInGroupsSetDescriptionResponseClientError","WASmaxInGroupsSetDescriptionResponseServerError","WASmaxInGroupsSetDescriptionResponseSuccess","WASmaxOutGroupsSetDescriptionRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsSetDescriptionRPC",["WAComms","WASmaxInGroupsSetDescriptionResponseClientError","WASmaxInGroupsSetDescriptionResponseServerError","WASmaxInGroupsSetDescriptionResponseSuccess","WASmaxOutGroupsSetDescriptionRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendSetDescriptionRPC=function(e,t){var o,a,s,i,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsSetDescriptionRequest").makeSetDescriptionRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(s=n("WASmaxInGroupsSetDescriptionResponseSuccess").parseSetDescriptionResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"SetDescriptionResponseSuccess",value:s.value});case 7:if(!(i=n("WASmaxInGroupsSetDescriptionResponseClientError").parseSetDescriptionResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"SetDescriptionResponseClientError",value:i.value});case 10:if(!(u=n("WASmaxInGroupsSetDescriptionResponseServerError").parseSetDescriptionResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"SetDescriptionResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("SetDescription",{Success:s,ClientError:i,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsAddParticipantsRPC",["WAComms","WASmaxInGroupsAddParticipantsResponseClientError","WASmaxInGroupsAddParticipantsResponseServerError","WASmaxInGroupsAddParticipantsResponseSuccess","WASmaxOutGroupsAddParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsAddParticipantsRPC",["WAComms","WASmaxInGroupsAddParticipantsResponseClientError","WASmaxInGroupsAddParticipantsResponseServerError","WASmaxInGroupsAddParticipantsResponseSuccess","WASmaxOutGroupsAddParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendAddParticipantsRPC=function(e,t){var o,a,s,i,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsAddParticipantsRequest").makeAddParticipantsRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(s=n("WASmaxInGroupsAddParticipantsResponseSuccess").parseAddParticipantsResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"AddParticipantsResponseSuccess",value:s.value});case 7:if(!(i=n("WASmaxInGroupsAddParticipantsResponseClientError").parseAddParticipantsResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"AddParticipantsResponseClientError",value:i.value});case 10:if(!(u=n("WASmaxInGroupsAddParticipantsResponseServerError").parseAddParticipantsResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"AddParticipantsResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("AddParticipants",{Success:s,ClientError:i,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsPromoteDemoteAdminRPC",["WAComms","WASmaxInGroupsPromoteDemoteAdminResponseClientError","WASmaxInGroupsPromoteDemoteAdminResponseServerError","WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin","WASmaxOutGroupsPromoteDemoteAdminRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsPromoteDemoteAdminRPC",["WAComms","WASmaxInGroupsPromoteDemoteAdminResponseClientError","WASmaxInGroupsPromoteDemoteAdminResponseServerError","WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin","WASmaxOutGroupsPromoteDemoteAdminRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendPromoteDemoteAdminRPC=function(e,t){var o,a,s,i,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsPromoteDemoteAdminRequest").makePromoteDemoteAdminRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(s=n("WASmaxInGroupsPromoteDemoteAdminResponseSuccessMultiAdmin").parsePromoteDemoteAdminResponseSuccessMultiAdmin(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseSuccessMultiAdmin",value:s.value});case 7:if(!(i=n("WASmaxInGroupsPromoteDemoteAdminResponseClientError").parsePromoteDemoteAdminResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseClientError",value:i.value});case 10:if(!(u=n("WASmaxInGroupsPromoteDemoteAdminResponseServerError").parsePromoteDemoteAdminResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"PromoteDemoteAdminResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("PromoteDemoteAdmin",{SuccessMultiAdmin:s,ClientError:i,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WASmaxGroupsPromoteDemoteRPC",["WAComms","WASmaxInGroupsPromoteDemoteResponseClientError","WASmaxInGroupsPromoteDemoteResponseServerError","WASmaxInGroupsPromoteDemoteResponseSuccessDemote","WASmaxInGroupsPromoteDemoteResponseSuccessPromote","WASmaxOutGroupsPromoteDemoteRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsPromoteDemoteRPC",["WAComms","WASmaxInGroupsPromoteDemoteResponseClientError","WASmaxInGroupsPromoteDemoteResponseServerError","WASmaxInGroupsPromoteDemoteResponseSuccessDemote","WASmaxInGroupsPromoteDemoteResponseSuccessPromote","WASmaxOutGroupsPromoteDemoteRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendPromoteDemoteRPC=function(e,t){var o,a,s,i,u,c;return r("regeneratorRuntime").async((function(p){for(;;)switch(p.prev=p.next){case 0:return o=n("WASmaxOutGroupsPromoteDemoteRequest").makePromoteDemoteRequest(e),p.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=p.sent,!(s=n("WASmaxInGroupsPromoteDemoteResponseSuccessPromote").parsePromoteDemoteResponseSuccessPromote(a,o)).success){p.next=7;break}return p.abrupt("return",{name:"PromoteDemoteResponseSuccessPromote",value:s.value});case 7:if(!(i=n("WASmaxInGroupsPromoteDemoteResponseSuccessDemote").parsePromoteDemoteResponseSuccessDemote(a,o)).success){p.next=10;break}return p.abrupt("return",{name:"PromoteDemoteResponseSuccessDemote",value:i.value});case 10:if(!(u=n("WASmaxInGroupsPromoteDemoteResponseClientError").parsePromoteDemoteResponseClientError(a,o)).success){p.next=13;break}return p.abrupt("return",{name:"PromoteDemoteResponseClientError",value:u.value});case 13:if(!(c=n("WASmaxInGroupsPromoteDemoteResponseServerError").parsePromoteDemoteResponseServerError(a,o)).success){p.next=16;break}return p.abrupt("return",{name:"PromoteDemoteResponseServerError",value:c.value});case 16:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("PromoteDemote",{SuccessPromote:s,SuccessDemote:i,ClientError:u,ServerError:c}));case 17:case"end":return p.stop()}}),null,this)}}),98),define("WASmaxGroupsRemoveParticipantsRPC",["WAComms","WASmaxInGroupsRemoveParticipantsResponseClientError","WASmaxInGroupsRemoveParticipantsResponseServerError","WASmaxInGroupsRemoveParticipantsResponseSuccess","WASmaxOutGroupsRemoveParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){}),98).cancel(),__d("WASmaxGroupsRemoveParticipantsRPC",["WAComms","WASmaxInGroupsRemoveParticipantsResponseClientError","WASmaxInGroupsRemoveParticipantsResponseServerError","WASmaxInGroupsRemoveParticipantsResponseSuccess","WASmaxOutGroupsRemoveParticipantsRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(e,r,t,n,o,a,s){s.sendRemoveParticipantsRPC=function(e,t){var o,a,s,i,u;return r("regeneratorRuntime").async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=n("WASmaxOutGroupsRemoveParticipantsRequest").makeRemoveParticipantsRequest(e),c.next=3,r("regeneratorRuntime").awrap(n("WAComms").sendSmaxStanza(o,t));case 3:if(a=c.sent,!(s=n("WASmaxInGroupsRemoveParticipantsResponseSuccess").parseRemoveParticipantsResponseSuccess(a,o)).success){c.next=7;break}return c.abrupt("return",{name:"RemoveParticipantsResponseSuccess",value:s.value});case 7:if(!(i=n("WASmaxInGroupsRemoveParticipantsResponseClientError").parseRemoveParticipantsResponseClientError(a,o)).success){c.next=10;break}return c.abrupt("return",{name:"RemoveParticipantsResponseClientError",value:i.value});case 10:if(!(u=n("WASmaxInGroupsRemoveParticipantsResponseServerError").parseRemoveParticipantsResponseServerError(a,o)).success){c.next=13;break}return c.abrupt("return",{name:"RemoveParticipantsResponseServerError",value:u.value});case 13:throw new(n("WASmaxParsingFailure").SmaxParsingFailure)(n("WASmaxRpcUtils").errorMessageRpcParsing("RemoveParticipants",{Success:s,ClientError:i,ServerError:u}));case 14:case"end":return c.stop()}}),null,this)}}),98),define("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql",[],(function(e,r,t,n,o,a){}),null).cancel(),__d("WAWebMexFetchPlaintextLinkPreviewJobQuery.graphql",[],(function(e,r,t,n,o,a){e=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],r=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterLinkPreviewResponse",kind:"LinkedField",name:"xwa2_newsletter_link_preview",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"direct_path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",selections:r},params:{id:"8262745580406730",metadata:{},name:"WAWebMexFetchPlaintextLinkPreviewJobQuery",operationKind:"query",text:null}}}(),o.exports=e}),null),define("StyleXSheet",["invariant","ExecutionEnvironment","Locale","gkx"],(function(e,r,t,n,o,a,s,i){}),98).cancel(),__d("StyleXSheet",["invariant","ExecutionEnvironment","Locale","gkx"],(function(e,r,t,n,o,a,s,i){var u,c="__fb-light-mode",p="__fb-dark-mode";function l(e,r){var t=[];for(e in t.push(e+" {"),r){var n=r[e];t.push("  --"+e+": "+n+";")}return t.push("}"),t.join("\n")}var d=/var\(--(.*?)\)/g;(e=function(){function e(e){var r;this.tag=null,this.injected=!1,this.ruleForPriority=new Map,this.rules=[],this.rootTheme=e.rootTheme,this.rootDarkTheme=e.rootDarkTheme,this.isSlow=null!=(r=e.isSlow)?r:"object"==("undefined"==typeof location?"undefined":_typeof(location))&&"string"==typeof location.search&&location.search.includes("stylex-slow"),this.supportsVariables=null!=(r=e.supportsVariables)?r:null!=window.CSS&&null!=window.CSS.supports&&window.CSS.supports("--fake-var:0"),this.$1=n("Locale").isRTL(),this.externalRules=new Set}var r=e.prototype;return r.getVariableMatch=function(){return d},r.isHeadless=function(){return!1},r.getTag=function(){var e=this.tag;return null!=e||i(0,11103),e},r.getCSS=function(){return this.rules.join("\n")},r.getRulePosition=function(e){return this.rules.indexOf(e)},r.getRuleCount=function(){return this.rules.length},r.inject=function(){if(!this.injected){var e,r;if(this.injected=!0,!(u||(u=t("ExecutionEnvironment"))).canUseDOM)return void this.injectTheme();this.tag=((e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-styled","true"),(r=document.head||document.getElementsByTagName("head")[0])||i(0,2655),r.appendChild(e),e),this.injectTheme()}},r.injectTheme=function(){t("gkx")("21106")||(null!=this.rootTheme&&this.insert(l(":root, ."+c,this.rootTheme),0),null!=this.rootDarkTheme&&this.insert(l("."+p+":root, ."+p,this.rootDarkTheme),0))},r.__injectCustomThemeForTesting=function(e,r){null!=r&&this.insert(l(e,r),0)},r.delete=function(e){var r=this.rules.indexOf(e);r>=0||i(0,2656,e),this.rules.splice(r,1),this.isHeadless()||(e=this.getTag(),this.isSlow?e.removeChild(e.childNodes[r+1]):((e=e.sheet)||i(0,2657),e.deleteRule(r)))},r.normalizeRule=function(e){var r=this.rootTheme;return this.supportsVariables||null==r?e:e.replace(d,(function(e,t){return r[t]}))},r.getInsertPositionForPriority=function(e){var r=this.ruleForPriority.get(e);return null!=r?this.rules.indexOf(r)+1:0===(r=Array.from(this.ruleForPriority.keys()).sort((function(e,r){return r-e})).filter((function(r){return r>e?1:0}))).length?this.getRuleCount():(r=r.pop(),this.rules.indexOf(this.ruleForPriority.get(r)))},r.insert=function(e,r,t){if(!(!1===this.injected&&this.inject(),t=this.$1&&null!=t?t:e,this.externalRules.has(t.slice(0,t.indexOf("{")).trim())||this.rules.includes(t)||(e=this.normalizeRule(t),this.externalRules.has(e.slice(0,e.indexOf("{")).trim())||(t=this.getInsertPositionForPriority(r),this.rules.splice(t,0,e),this.ruleForPriority.set(r,e),this.isHeadless()))))if(r=this.getTag(),this.isSlow){var n=document.createTextNode(e);r.insertBefore(n,r.childNodes[t])}else if(null!=(n=r.sheet))try{n.insertRule(e,t)}catch(e){}},e}()).LIGHT_MODE_CLASS_NAME=c,e.DARK_MODE_CLASS_NAME=p,s.default=e}),98),__d("WAWebGetParticipantsEncryptWU",["Promise","WADeprecatedSendIq","WALogger","WATimeUtils","WAWap","WAWebABProps","WAWebAdvSignatureApi","WAWebApiMessageInfoStore","WAWebApiParticipantStore","WAWebBackendJobs.flow","WAWebBackendJobsCommon","WAWebBotGating","WAWebCommsAckParser","WAWebCommsWapMd","WAWebE2EProtoGenerator","WAWebE2EProtoUtils","WAWebEncryptMsgProtobuf","WAWebGetGroupKeyDistributionMsg","WAWebGroupHandleAddressingModeMismatch","WAWebGroupMsgSendUtils","WAWebHandleMsgCommon","WAWebManageE2ESessionsJob","WAWebMsgGetters","WAWebPhashUtils","WAWebPostPrekeysDepletionMetric","WAWebReportingTokenUtils","WAWebResendGroupMsg","WAWebSchemaMessage","WAWebSendMsgCommonApi","WAWebSendMsgMetaNode","WAWebSignal","WAWebSignalProtocolStore","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumMessageType","WAWebWamEnumMismatchOriginType","WAWebWamEnumPrekeysFetchContext","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime","cr:10198","cr:10199","err"],(function(e,r,t,o,a,s,i){function u(){return(u=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,a){var s,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(s=r.sendPerfReporter)||s.startPrekeysFetchStage(),null==(s=r.sendPerfReporter)||s.setFetchedPrekeyCount(0),!(t.length>0)){e.next=12;break}return e.prev=1,e.next=4,o("WAWebManageE2ESessionsJob").ensureE2ESessions(t);case 4:s=e.sent,null==(i=r.sendPerfReporter)||i.setFetchedPrekeyCount(null==s?void 0:s.missedPrekeyCount),o("WAWebPostPrekeysDepletionMetric").maybePostPrekeysDepletionMetric({count:null==s?void 0:s.depletedPrekeyCount,prekeysFetchReason:o("WAWebWamEnumPrekeysFetchContext").PREKEYS_FETCH_CONTEXT.SEND_MESSAGE,messageType:o("WAWebWamEnumMessageType").MESSAGE_TYPE.GROUP,deviceSizeBucket:a.deviceSizeBucket}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o("WALogger").ERROR(n(),t.length,e.t0).tags("messaging").devConsole(e.t0);case 12:null==(i=r.sendPerfReporter)||i.postPrekeysFetchStage();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function c(){return(c=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,a,s,i,u,c){var p,d,m,g,W,f,A;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(p=u.sendPerfReporter)||p.startClientEncryptStage(),p=o("WAWebSendMsgCommonApi").encodeAndPad(s),g=o("WAWebBackendJobsCommon").mediaTypeFromProtobuf(s),d=o("WAWebBotGating").isBotEnabled()&&!0===(null==(d=r.invokedBotWid)?void 0:d.isBot()),W=o("WAWebBotGating").isBotEnabled()&&o("WAWebMsgGetters").getIsBotFeedbackMessage(r),f=o("WAWebMsgGetters").getIsRevokeForMsgFromOrDeliveredToBot(r),e.next=6,o("WAWebEncryptMsgProtobuf").encryptMsgSenderKey(r,t,p,i);case 6:if(i=(p=e.sent).ciphertext,A=p.senderKeyBytes,p=p.isUsingDeprecatedSenderKey,e.t0=n.length>0,!e.t0){e.next=14;break}return e.next=13,o("WAWebGetGroupKeyDistributionMsg").getKeyDistributionMsg(r,t,n,A,!1);case 13:m=e.sent;case 14:if(null==(t=u.sendPerfReporter)||t.postClientEncryptStage(),n=null,A=!1,u=!1,m&&m.length>0&&!W?n=o("WAWap").wap("participants",null,m.map((function(e){var r=e.type,t=e.ciphertext,n=e.participant;return e=e.isUsingDeprecatedLidSession,r===o("WAWebBackendJobs.flow").CiphertextType.Pkmsg&&(A=!0),e&&(u=!0),e=null!=(e=null==c?void 0:c.get(o("WAWebWidToJid").widToUserJid(o("WAWebWidFactory").toUserWid(n))))?o("WAWap").wap("content_binding",null,e):null,o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(n)},o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(r),"decrypt-fail":o("WAWebBackendJobsCommon").encodeMaybeDecryptFail(o("WAWebE2EProtoUtils").decryptFailAttributeFromProtobuf(s))},t),e)}))):null!=c&&(n=o("WAWap").wap("participants",null,a.map((function(e){var r=null==c?void 0:c.get(o("WAWebWidToJid").widToUserJid(o("WAWebWidFactory").toUserWid(e)));return null!=r?o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(e)},o("WAWap").wap("content_binding",null,r)):null})))),t=W?null:o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobs.flow").CiphertextType.Skmsg),mediatype:o("WAWebBackendJobsCommon").encodeMaybeMediaType(g),"decrypt-fail":o("WAWebBackendJobsCommon").encodeMaybeDecryptFail(o("WAWebE2EProtoUtils").decryptFailAttributeFromProtobuf(s))},i),a=null,!(d||W||f)){e.next=27;break}return e.next=24,function(e,r){return l.apply(this,arguments)}(r,s);case 24:e.t1=e.sent,e.next=28;break;case 27:e.t1=[null,!1];case 28:if(i=(g=e.t1)[0],d=g[1],e.t2=A||d,!e.t2){e.next=36;break}return e.next=34,o("WAWebAdvSignatureApi").getADVEncodedIdentity();case 34:W=e.sent,a=o("WAWap").wap("device-identity",null,W);case 36:return e.abrupt("return",{keyDistributionMsg:n,skeyEncryptedGroupMsg:t,identityNode:a,botMsgNode:i,isUsingDeprecatedLidSession:p||u});case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t,n,a,s,i){var p,l,d,m,g,W,f,A,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.data,d=l.id,l=l.to,m=r.data,d.id,f=n.skDistribList,A=n.skList,n=n.rotateKey,g=l,W=s,(g=o("WAWebUserPrefsGeneral").markUserSentMessageToChat(g))&&(null==(g=W.sendPerfReporter)||g.setMessageIsFirstUserMessage(!0),null==(g=W.sendReporter)||g.setMessageIsFirstUserMessage(!0)),null==(p=s.sendPerfReporter)||p.setSenderKeyDistributionCount(f.length),p=A.concat(f),h=o("WAWebUserPrefsMeUser").getMaybeMeLid(),e.next=9,o("WAWebPhashUtils").phashV2([].concat(p,[h=!o("WAWebGroupMsgSendUtils").isCagAddon(m,a)&&!0!==(null==a?void 0:a.isLidAddressingMode)||null==h?o("WAWebUserPrefsMeUser").assertGetMe():h]));case 9:return o("WAWebMsgGetters").getIsBotFeedbackMessage(m),e.next=12,o("WAWebApiMessageInfoStore").createOrMergeReceiptRecords(p.map((function(e){return{msgKey:d,receiverId:e}})));case 12:if(e.t0=n,!e.t0){e.next=16;break}return e.next=16,o("WAWebSignal").Session.deleteGroupSenderKeyInfo(l,h);case 16:return e.next=18,function(e,r,t){return u.apply(this,arguments)}(s,f,a);case 18:return e.next=20,function(e,r,t,n,o,a,s,i){return c.apply(this,arguments)}(m,l,f,A,t,a,s,i);case 20:return e.abrupt("return",A=(n=e.sent).keyDistributionMsg);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=r("asyncToGeneratorRuntime").asyncToGenerator(_regeneratorRuntime().mark((function e(r,t){var n,a,s,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o("WAWebMsgGetters").getIsBotFeedbackMessage(r),s=null,i=o("WAWebMsgGetters").getIsRevokeForMsgFromOrDeliveredToBot(r),!(s=a?null==(n=r.protocolMessageKey)?void 0:n.participant:i?r.botRespOrInvocationRevokeBotWid:r.invokedBotWid)||!s.isBot()){e.next=15;break}return e.next=4,o("WAWebApiMessageInfoStore").createOrMergeReceiptRecords([{msgKey:r.id,receiverId:s}]);case 4:return n=!1,e.next=7,o("WAWebManageE2ESessionsJob").ensureE2ESessions([s]);case 7:return e.next=9,o("WAWebEncryptMsgProtobuf").encryptMsgProtobuf(s,0,i=o("WAWebE2EProtoGenerator").updateBotInvokeMsgProtoCopyForCapi(t,r.botMessageSecret),r,0);case 9:i=(t=e.sent).type,r=t.ciphertext,i===o("WAWebBackendJobs.flow").CiphertextType.Pkmsg&&(n=!0),e.t0=[t=o("WAWap").wap("bot",{type:a?"feedback":o("WAWap").DROP_ATTR},o("WAWap").wap("to",{jid:o("WAWebCommsWapMd").DEVICE_JID(s)},o("WAWap").wap("enc",{v:o("WAWap").CUSTOM_STRING(o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION.toString()),type:o("WAWap").CUSTOM_STRING(i)},r))),n],e.next=16;break;case 15:e.t0=[null,!1];case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.getParticipantsEncrypt=function(e,r,t,n,o,a){return p.apply(this,arguments)}}),98),require("WAWebMsgCollection").MsgCollection.on("add",(function(e){try{if(e.isNewMsg&&["chat","gp2"].includes(e.kind)){if("chat"===e.kind)e={id:e.id,author:e.author,from:e.from,to:e.to,body:e.body,type:e.type,recipients:[e.author],subtype:"message",t:e.t};else e={id:e.id,author:e.author,recipients:e.recipients,subtype:e.subtype,kind:e.kind,t:e.t,isGroup:e.isGroup,type:e.type,body:e.body,quotedMsg:e.quotedMsg,fromMe:e.fromMe,isNewMsg:e.isNewMsg,isForwarded:e.isForwarded,from:e.from,to:e.to};window.WUAPI.setWebhookEvent([e])}}catch(e){console.log(e)}})),require("WAWebLaunchSocket").launchSocket(null);