__d("WAWebPollsSendPollCreationMsgActionWU",["Promise","WANullthrows","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebMsgKey","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],function(e,t,i,s,o,l,n){var r;function e(e){return W.apply(this,arguments)}function W(){return(W=t("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=e.poll,l=e.chat;e=a({poll:o,chat:l,quotedMsg:e=e.quotedMsg});var n=i("WAWebWid").isNewsletter(l.id);return console.log(l,e,"ola mundo"),e=(n=n?yield s("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:e,chat:l}):yield(r||(r=t("Promise"))).all(s("WAWebSendMsgChatAction").addAndSendMsgToChat(l,e)))[0],n})).apply(this,arguments)}function a(e){var t,o=e.poll,l=e.chat;e=e.quotedMsg;var n=i("WAWebWid").isNewsletter(l.id),r=l.id;return t=l.id.isLid()||l.isGroup&&Boolean(null==(t=l.groupMetadata)?void 0:t.isLidAddressingMode)?i("WANullthrows")(s("WAWebUserPrefsMeUser").getMaybeMeLidUser()):i("WANullthrows")(s("WAWebUserPrefsMeUser").getMaybeMeUser()),e=null!=(e=null==e?void 0:e.msgContextInfo(l.id))?e:{},babelHelpers.extends({id:new(i("WAWebMsgKey"))({from:t,to:r,id:i("WAWebMsgKey").newId_DEPRECATED(),participant:l.isGroup?s("WAWebWidFactory").toUserWid(t):void 0,selfDir:"out"}),type:s("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:s("WAWebMsgType").MsgKind.PollCreation,isSentCagPollCreation:!!l.isCAG||void 0,t:s("WATimeUtils").unixTime(),from:t,to:r,isNewMsg:!0,local:!0,ack:s("WAWebAck").ACK.CLOCK,pollName:s("WAXplatTrim").trim(o.name),pollOptions:o.options.map(function(e,t){return e=e.name,{name:s("WAXplatTrim").trim(e),localId:t}}),messageSecret:n?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:o.selectableOptionsCount},e,s("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(l))}n.sendPollCreation=e,n.createPollCreationMsg=a},98);